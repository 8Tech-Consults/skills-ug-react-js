import{R as r,j as e,bj as $,C as D,r as g,x as N,aa as w,U as I,a_ as M}from"./index-B_eXsex6.js";import{p as A}from"./index-D2bfirIF.js";const L=r.createContext({}),E=!0;function T({baseColor:t,highlightColor:c,width:s,height:m,borderRadius:h,circle:j,direction:p,duration:n,enableAnimation:x=E,customHighlightBackground:o}){const a={};return p==="rtl"&&(a["--animation-direction"]="reverse"),typeof n=="number"&&(a["--animation-duration"]=`${n}s`),x||(a["--pseudo-element-display"]="none"),(typeof s=="string"||typeof s=="number")&&(a.width=s),(typeof m=="string"||typeof m=="number")&&(a.height=m),(typeof h=="string"||typeof h=="number")&&(a.borderRadius=h),j&&(a.borderRadius="50%"),typeof t<"u"&&(a["--base-color"]=t),typeof c<"u"&&(a["--highlight-color"]=c),typeof o=="string"&&(a["--custom-highlight-background"]=o),a}function i({count:t=1,wrapper:c,className:s,containerClassName:m,containerTestId:h,circle:j=!1,style:p,...n}){var x,o,a;const k=r.useContext(L),b={...n};for(const[l,d]of Object.entries(n))typeof d>"u"&&delete b[l];const f={...k,...b,circle:j},C={...p,...T(f)};let _="react-loading-skeleton";s&&(_+=` ${s}`);const F=(x=f.inline)!==null&&x!==void 0?x:!1,u=[],y=Math.ceil(t);for(let l=0;l<y;l++){let d=C;if(y>t&&l===y-1){const v=(o=d.width)!==null&&o!==void 0?o:"100%",J=t%1,O=typeof v=="number"?v*J:`calc(${v} * ${J})`;d={...d,width:O}}const S=r.createElement("span",{className:_,style:d,key:l},"â€Œ");F?u.push(S):u.push(r.createElement(r.Fragment,{key:l},S,r.createElement("br",null)))}return r.createElement("span",{className:m,"data-testid":h,"aria-live":"polite","aria-busy":(a=f.enableAnimation)!==null&&a!==void 0?a:E},c?u.map((l,d)=>r.createElement(c,{key:d},l)):u)}const U=()=>e.jsxs("div",{className:"container py-4 px-2 px-lg-10",children:[e.jsxs("div",{className:"row mb-4 g-3",children:[e.jsx("div",{className:"col-12 col-lg-8",children:e.jsxs("div",{className:"d-flex align-items-start",children:[e.jsx(i,{circle:!0,width:80,height:80,className:"me-3"}),e.jsxs("div",{style:{width:"100%"},children:[e.jsx(i,{height:32,width:"60%"}),e.jsx(i,{height:20,width:"40%"}),e.jsx(i,{height:20,width:"30%"}),e.jsx(i,{height:20,width:"30%"})]})]})}),e.jsx("div",{className:"col-12 col-lg-4",children:e.jsx(i,{height:38,width:"100%"})})]}),e.jsxs("div",{className:"row gy-4",children:[e.jsx("div",{className:"col-12 col-lg-8",children:e.jsxs("div",{className:"bg-white p-4 rounded shadow-sm mb-4",children:[e.jsx(i,{height:24,width:"30%",className:"mb-3"}),e.jsx(i,{count:10})]})}),e.jsx("div",{className:"col-12 col-lg-4",children:e.jsxs("div",{className:"bg-white p-4 rounded shadow-sm",children:[e.jsx(i,{height:24,width:"40%",className:"mb-3"}),e.jsx(i,{count:8})]})})]})]}),P=()=>e.jsxs("div",{className:"container py-4 px-2 px-lg-10",children:[e.jsxs("div",{className:"row mb-4 g-3",children:[e.jsx("div",{className:"col-12 col-lg-8",children:e.jsxs("div",{className:"d-flex align-items-start",children:[e.jsx(i,{circle:!0,width:80,height:80,className:"me-3"}),e.jsxs("div",{style:{width:"100%"},children:[e.jsx(i,{height:32,width:"60%"}),e.jsx(i,{height:20,width:"40%"}),e.jsx(i,{height:20,width:"30%"}),e.jsx(i,{height:20,width:"30%"})]})]})}),e.jsx("div",{className:"col-12 col-lg-4",children:e.jsx(i,{height:38,width:"100%"})})]}),e.jsxs("div",{className:"row gy-4",children:[e.jsx("div",{className:"col-12 col-lg-8",children:e.jsxs("div",{className:"bg-white p-4 rounded shadow-sm mb-4",children:[e.jsx(i,{height:24,width:"30%",className:"mb-3"}),e.jsx(i,{count:20})]})}),e.jsx("div",{className:"col-12 col-lg-4",children:e.jsxs("div",{className:"bg-white p-4 rounded shadow-sm",children:[e.jsx(i,{height:24,width:"40%",className:"mb-3"}),e.jsx(i,{count:20})]})})]})]}),R=()=>{const{id:t}=$(),c=D(),[s,m]=g.useState(null),[h,j]=g.useState(!0),[p,n]=g.useState("");g.useEffect(()=>{if(!t)return;(async()=>{j(!0),n("");try{const b=await M.fetchJobById(t);m(b)}catch(b){n(b.message||"Failed to fetch job details."),console.error(b)}finally{j(!1)}})()},[t]);const x=()=>{c(`/jobs/${t}/apply`)},o=()=>{alert("Job saved to your profile!")},a=()=>{alert("Share link copied or open share UI!")};return h?U():p?e.jsxs("div",{className:"container py-5",children:[e.jsx("div",{className:"alert alert-danger text-center",role:"alert",children:p}),e.jsx("div",{className:"text-center",children:e.jsx("button",{className:"btn btn-secondary",onClick:()=>c(-1),children:"Go Back"})})]}):s?e.jsxs(N.div,{className:"container py-4 px-2 px-lg-10 ",initial:{opacity:0,y:40},animate:{opacity:1,y:0},children:[e.jsxs("ol",{className:"breadcrumb breadcrumb-item text-muted fs-6 fw-bold mb-5 mx-3",children:[e.jsx("li",{className:"breadcrumb-item pe-3",children:e.jsx(w,{to:"/",className:"active text-decoration-none",children:"Home"})}),e.jsx("li",{className:"breadcrumb-item pe-3 ",children:e.jsx(w,{to:"/jobs",className:"active text-decoration-none",children:"Jobs"})}),e.jsx("li",{className:"breadcrumb-item px-3 text-muted ",children:s.title})]}),e.jsxs("div",{className:"row gy-4 mx-0",children:[e.jsxs("div",{className:"col-12 col-lg-8",children:[e.jsxs(N.div,{className:"bg-white p-4 rounded shadow-sm mb-4",initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:[e.jsx("div",{className:"row mb-4 g-3",children:e.jsx("div",{className:"col-12 ",children:e.jsxs("div",{className:"d-flex align-items-start",children:[s.job_icon&&e.jsx("img",{src:I.img(s.job_icon),alt:s.title,style:{width:"80px",height:"80px",objectFit:"cover"},className:"rounded me-3"}),e.jsxs("div",{children:[e.jsx("h2",{className:"fw-bold mb-1",children:s.title}),e.jsxs("p",{className:"mb-2 text-muted",children:[e.jsx("i",{className:"bi bi-geo-alt-fill me-1"}),s.district_id||"Location N/A"]}),e.jsxs("p",{className:"mb-2 text-danger",children:[e.jsx("i",{className:"bi bi-alarm me-1"}),"Application Deadline:"," ",e.jsx("strong",{children:s.deadline||"Not specified"})]}),e.jsx("span",{className:`badge ${s.status==="Open"?"bg-success":s.status==="Closed"?"bg-danger":"bg-secondary"}`,children:s.status})]})]})})}),e.jsx("hr",{className:""}),e.jsx("h5",{className:"fw-bold mb-3 mt-5",children:"Job Description"}),e.jsx("div",{children:s.responsibilities?A(s.responsibilities):"No description provided."})]}),e.jsxs(N.div,{className:"bg-white p-4 rounded shadow-sm mb-4",initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:[e.jsx("h5",{className:"fw-bold mb-3",children:"Benefits & Other Info"}),e.jsx("div",{children:s.benefits?A(s.benefits):"No benefits details provided."})]}),e.jsxs(N.div,{className:"bg-white p-4 rounded shadow-sm mb-4",initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:[e.jsx("h5",{className:"fw-bold mb-3",children:"Application Method"}),s.application_method?e.jsxs("div",{children:[e.jsx("strong",{children:"Method:"})," ",s.application_method,e.jsx("br",{}),e.jsx("strong",{children:"Details:"})," ",s.application_method_details||"N/A"]}):e.jsx("div",{children:"No application instructions provided."})]})]}),e.jsxs("div",{className:"col-12 col-lg-4",children:[e.jsxs(N.div,{className:"bg-white p-4 rounded shadow-sm mb-4",initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:[e.jsx("h6",{className:"fw-bold mb-3",children:"Job Details"}),e.jsxs("ul",{className:"list-unstyled mb-0",children:[e.jsxs("li",{className:"mb-2",children:[e.jsx("i",{className:"bi bi-building me-2 text-muted"}),e.jsx("strong",{children:"Category: "}),s.category_id||"N/A"]}),e.jsxs("li",{className:"mb-2",children:[e.jsx("i",{className:"bi bi-briefcase me-2 text-muted"}),e.jsx("strong",{children:"Employment Type: "}),s.employment_status||"N/A"]}),e.jsxs("li",{className:"mb-2",children:[e.jsx("i",{className:"bi bi-laptop me-2 text-muted"}),e.jsx("strong",{children:"Workplace: "}),s.workplace||"N/A"]}),e.jsxs("li",{className:"mb-2",children:[e.jsx("i",{className:"bi bi-cash-stack me-2 text-muted"}),e.jsx("strong",{children:"Salary: "}),s.show_salary==="Yes"?e.jsxs(e.Fragment,{children:["UGX ",new Intl.NumberFormat().format(s.minimum_salary)," -"," ",new Intl.NumberFormat().format(s.maximum_salary)]}):"Hidden"]}),e.jsxs("li",{className:"mb-2",children:[e.jsx("i",{className:"bi bi-bar-chart-line me-2 text-muted"}),e.jsx("strong",{children:"Experience: "}),s.experience_period||"Not specified"]}),e.jsxs("li",{className:"mb-2",children:[e.jsx("i",{className:"bi bi-mortarboard-fill me-2 text-muted"}),e.jsx("strong",{children:"Min. Qualification: "}),s.minimum_academic_qualification||"N/A"]}),e.jsxs("li",{className:"mb-2",children:[e.jsx("i",{className:"bi bi-person-fill me-2 text-muted"}),e.jsx("strong",{children:"Gender: "}),s.gender||"N/A"]}),e.jsxs("li",{className:"mb-2",children:[e.jsx("i",{className:"bi bi-people-fill me-2 text-muted"}),e.jsx("strong",{children:"Vacancies: "}),s.vacancies_count||1]}),e.jsxs("li",{className:"mb-2",children:[e.jsx("i",{className:"bi bi-card-list me-2 text-muted"}),e.jsx("strong",{children:"Status: "}),s.status]})]})]}),e.jsxs(N.div,{className:"bg-white p-4 rounded shadow-sm",initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:[e.jsx("h6",{className:"fw-bold mb-3",children:"Actions"}),e.jsxs("div",{className:"d-grid gap-2",children:[e.jsxs("button",{className:"btn btn-primary",onClick:x,children:[e.jsx("i",{className:"bi bi-send-fill me-1"}),"Apply Now"]}),e.jsxs("button",{className:"btn btn-outline-secondary",onClick:o,children:[e.jsx("i",{className:"bi bi-bookmark-heart me-1"}),"Save This Job"]}),e.jsxs("button",{className:"btn btn-outline-secondary",onClick:a,children:[e.jsx("i",{className:"bi bi-share-fill me-1"}),"Share"]})]})]})]})]}),e.jsx("div",{className:"mt-5",children:e.jsxs(w,{to:"/jobs",className:"text-decoration-none",children:[e.jsx("i",{className:"bi bi-arrow-left me-1"}),"Back to Job Listings"]})})]}):null};export{U as JobSkeleton,R as default,P as pageSkeleton};
