import{R as d,j as e,bf as $,C as D,r as f,x as N,a7 as w,U as I,aW as M}from"./index-lFlQTybs.js";import{p as A}from"./index-DzHCtrQj.js";const L=d.createContext({}),E=!0;function T({baseColor:t,highlightColor:n,width:s,height:m,borderRadius:h,circle:j,direction:p,duration:c,enableAnimation:b=E,customHighlightBackground:o}){const i={};return p==="rtl"&&(i["--animation-direction"]="reverse"),typeof c=="number"&&(i["--animation-duration"]=`${c}s`),b||(i["--pseudo-element-display"]="none"),(typeof s=="string"||typeof s=="number")&&(i.width=s),(typeof m=="string"||typeof m=="number")&&(i.height=m),(typeof h=="string"||typeof h=="number")&&(i.borderRadius=h),j&&(i.borderRadius="50%"),typeof t<"u"&&(i["--base-color"]=t),typeof n<"u"&&(i["--highlight-color"]=n),typeof o=="string"&&(i["--custom-highlight-background"]=o),i}function a({count:t=1,wrapper:n,className:s,containerClassName:m,containerTestId:h,circle:j=!1,style:p,...c}){var b,o,i;const k=d.useContext(L),x={...c};for(const[l,r]of Object.entries(c))typeof r>"u"&&delete x[l];const y={...k,...x,circle:j},C={...p,...T(y)};let _="react-loading-skeleton";s&&(_+=` ${s}`);const F=(b=y.inline)!==null&&b!==void 0?b:!1,u=[],g=Math.ceil(t);for(let l=0;l<g;l++){let r=C;if(g>t&&l===g-1){const v=(o=r.width)!==null&&o!==void 0?o:"100%",S=t%1,O=typeof v=="number"?v*S:`calc(${v} * ${S})`;r={...r,width:O}}const J=d.createElement("span",{className:_,style:r,key:l},"â€Œ");F?u.push(J):u.push(d.createElement(d.Fragment,{key:l},J,d.createElement("br",null)))}return d.createElement("span",{className:m,"data-testid":h,"aria-live":"polite","aria-busy":(i=y.enableAnimation)!==null&&i!==void 0?i:E},n?u.map((l,r)=>d.createElement(n,{key:r},l)):u)}const U=()=>e.jsxs("div",{className:"container py-4 px-2 px-lg-10",children:[e.jsxs("div",{className:"row mb-4 g-3",children:[e.jsx("div",{className:"col-12 col-lg-8",children:e.jsxs("div",{className:"d-flex align-items-start",children:[e.jsx(a,{circle:!0,width:80,height:80,className:"me-3"}),e.jsxs("div",{style:{width:"100%"},children:[e.jsx(a,{height:32,width:"60%"}),e.jsx(a,{height:20,width:"40%"}),e.jsx(a,{height:20,width:"30%"}),e.jsx(a,{height:20,width:"30%"})]})]})}),e.jsx("div",{className:"col-12 col-lg-4",children:e.jsx(a,{height:38,width:"100%"})})]}),e.jsxs("div",{className:"row gy-4",children:[e.jsx("div",{className:"col-12 col-lg-8",children:e.jsxs("div",{className:"bg-white p-4 rounded shadow-sm mb-4",children:[e.jsx(a,{height:24,width:"30%",className:"mb-3"}),e.jsx(a,{count:10})]})}),e.jsx("div",{className:"col-12 col-lg-4",children:e.jsxs("div",{className:"bg-white p-4 rounded shadow-sm",children:[e.jsx(a,{height:24,width:"40%",className:"mb-3"}),e.jsx(a,{count:8})]})})]})]}),P=()=>{const{id:t}=$(),n=D(),[s,m]=f.useState(null),[h,j]=f.useState(!0),[p,c]=f.useState("");f.useEffect(()=>{if(!t)return;(async()=>{j(!0),c("");try{const x=await M.fetchJobById(t);m(x)}catch(x){c(x.message||"Failed to fetch job details."),console.error(x)}finally{j(!1)}})()},[t]);const b=()=>{n(`/jobs/${t}/apply`)},o=()=>{alert("Job saved to your profile!")},i=()=>{alert("Share link copied or open share UI!")};return h?U():p?e.jsxs("div",{className:"container py-5",children:[e.jsx("div",{className:"alert alert-danger text-center",role:"alert",children:p}),e.jsx("div",{className:"text-center",children:e.jsx("button",{className:"btn btn-secondary",onClick:()=>n(-1),children:"Go Back"})})]}):s?e.jsxs(N.div,{className:"container py-4 px-2 px-lg-10 ",initial:{opacity:0,y:40},animate:{opacity:1,y:0},children:[e.jsxs("ol",{className:"breadcrumb breadcrumb-item text-muted fs-6 fw-bold mb-5 mx-3",children:[e.jsx("li",{className:"breadcrumb-item pe-3",children:e.jsx(w,{to:"/",className:"active text-decoration-none",children:"Home"})}),e.jsx("li",{className:"breadcrumb-item pe-3 ",children:e.jsx(w,{to:"/jobs",className:"active text-decoration-none",children:"Jobs"})}),e.jsx("li",{className:"breadcrumb-item px-3 text-muted ",children:s.title})]}),e.jsxs("div",{className:"row gy-4 mx-0",children:[e.jsxs("div",{className:"col-12 col-lg-8",children:[e.jsxs(N.div,{className:"bg-white p-4 rounded shadow-sm mb-4",initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:[e.jsx("div",{className:"row mb-4 g-3",children:e.jsx("div",{className:"col-12 ",children:e.jsxs("div",{className:"d-flex align-items-start",children:[s.job_icon&&e.jsx("img",{src:I.img(s.job_icon),alt:s.title,style:{width:"80px",height:"80px",objectFit:"cover"},className:"rounded me-3"}),e.jsxs("div",{children:[e.jsx("h2",{className:"fw-bold mb-1",children:s.title}),e.jsxs("p",{className:"mb-2 text-muted",children:[e.jsx("i",{className:"bi bi-geo-alt-fill me-1"}),s.district_id||"Location N/A"]}),e.jsxs("p",{className:"mb-2 text-danger",children:[e.jsx("i",{className:"bi bi-alarm me-1"}),"Application Deadline:"," ",e.jsx("strong",{children:s.deadline||"Not specified"})]}),e.jsx("span",{className:`badge ${s.status==="Open"?"bg-success":s.status==="Closed"?"bg-danger":"bg-secondary"}`,children:s.status})]})]})})}),e.jsx("hr",{className:""}),e.jsx("h5",{className:"fw-bold mb-3 mt-5",children:"Job Description"}),e.jsx("div",{children:s.responsibilities?A(s.responsibilities):"No description provided."})]}),e.jsxs(N.div,{className:"bg-white p-4 rounded shadow-sm mb-4",initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:[e.jsx("h5",{className:"fw-bold mb-3",children:"Benefits & Other Info"}),e.jsx("div",{children:s.benefits?A(s.benefits):"No benefits details provided."})]}),e.jsxs(N.div,{className:"bg-white p-4 rounded shadow-sm mb-4",initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:[e.jsx("h5",{className:"fw-bold mb-3",children:"Application Method"}),s.application_method?e.jsxs("div",{children:[e.jsx("strong",{children:"Method:"})," ",s.application_method,e.jsx("br",{}),e.jsx("strong",{children:"Details:"})," ",s.application_method_details||"N/A"]}):e.jsx("div",{children:"No application instructions provided."})]})]}),e.jsxs("div",{className:"col-12 col-lg-4",children:[e.jsxs(N.div,{className:"bg-white p-4 rounded shadow-sm mb-4",initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:[e.jsx("h6",{className:"fw-bold mb-3",children:"Job Details"}),e.jsxs("ul",{className:"list-unstyled mb-0",children:[e.jsxs("li",{className:"mb-2",children:[e.jsx("i",{className:"bi bi-building me-2 text-muted"}),e.jsx("strong",{children:"Category: "}),s.category_id||"N/A"]}),e.jsxs("li",{className:"mb-2",children:[e.jsx("i",{className:"bi bi-briefcase me-2 text-muted"}),e.jsx("strong",{children:"Employment Type: "}),s.employment_status||"N/A"]}),e.jsxs("li",{className:"mb-2",children:[e.jsx("i",{className:"bi bi-laptop me-2 text-muted"}),e.jsx("strong",{children:"Workplace: "}),s.workplace||"N/A"]}),e.jsxs("li",{className:"mb-2",children:[e.jsx("i",{className:"bi bi-cash-stack me-2 text-muted"}),e.jsx("strong",{children:"Salary: "}),s.show_salary==="Yes"?e.jsxs(e.Fragment,{children:["UGX ",new Intl.NumberFormat().format(s.minimum_salary)," -"," ",new Intl.NumberFormat().format(s.maximum_salary)]}):"Hidden"]}),e.jsxs("li",{className:"mb-2",children:[e.jsx("i",{className:"bi bi-bar-chart-line me-2 text-muted"}),e.jsx("strong",{children:"Experience: "}),s.experience_period||"Not specified"]}),e.jsxs("li",{className:"mb-2",children:[e.jsx("i",{className:"bi bi-mortarboard-fill me-2 text-muted"}),e.jsx("strong",{children:"Min. Qualification: "}),s.minimum_academic_qualification||"N/A"]}),e.jsxs("li",{className:"mb-2",children:[e.jsx("i",{className:"bi bi-person-fill me-2 text-muted"}),e.jsx("strong",{children:"Gender: "}),s.gender||"N/A"]}),e.jsxs("li",{className:"mb-2",children:[e.jsx("i",{className:"bi bi-people-fill me-2 text-muted"}),e.jsx("strong",{children:"Vacancies: "}),s.vacancies_count||1]}),e.jsxs("li",{className:"mb-2",children:[e.jsx("i",{className:"bi bi-card-list me-2 text-muted"}),e.jsx("strong",{children:"Status: "}),s.status]})]})]}),e.jsxs(N.div,{className:"bg-white p-4 rounded shadow-sm",initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:[e.jsx("h6",{className:"fw-bold mb-3",children:"Actions"}),e.jsxs("div",{className:"d-grid gap-2",children:[e.jsxs("button",{className:"btn btn-primary",onClick:b,children:[e.jsx("i",{className:"bi bi-send-fill me-1"}),"Apply Now"]}),e.jsxs("button",{className:"btn btn-outline-secondary",onClick:o,children:[e.jsx("i",{className:"bi bi-bookmark-heart me-1"}),"Save This Job"]}),e.jsxs("button",{className:"btn btn-outline-secondary",onClick:i,children:[e.jsx("i",{className:"bi bi-share-fill me-1"}),"Share"]})]})]})]})]}),e.jsx("div",{className:"mt-5",children:e.jsxs(w,{to:"/jobs",className:"text-decoration-none",children:[e.jsx("i",{className:"bi bi-arrow-left me-1"}),"Back to Job Listings"]})})]}):null};export{U as JobSkeleton,P as default};
