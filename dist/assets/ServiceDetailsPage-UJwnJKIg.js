import{ba as v,x as p,r as t,z as c,j as e}from"./index-DYlhEq0c.js";import{s as b}from"./ServiceApiService-Bp_o-kdC.js";const u=()=>{const{id:l}=v(),r=p(),[s,d]=t.useState(null),[m,n]=t.useState(!0);t.useEffect(()=>{l&&o(parseInt(l))},[l]);const o=async a=>{n(!0);try{const i=await b.getService(a);i.success&&i.data?d(i.data):(c.error(i.error||"Failed to load service details"),r("/services"))}catch{c.error("Failed to load service details"),r("/services")}finally{n(!1)}},x=(a,i="UGX")=>new Intl.NumberFormat("en-UG",{style:"currency",currency:i==="UGX"?"USD":i,minimumFractionDigits:0}).format(a).replace("$","UGX "),h=()=>{s&&c.info("Booking feature coming soon!")},j=()=>{s!=null&&s.provider&&c.info("Contact feature coming soon!")};return m?e.jsx("div",{className:"container-fluid py-4",children:e.jsx("div",{className:"row",children:e.jsxs("div",{className:"col-12 text-center py-5",children:[e.jsx("div",{className:"spinner-border text-primary",role:"status",children:e.jsx("span",{className:"visually-hidden",children:"Loading..."})}),e.jsx("p",{className:"text-muted mt-3",children:"Loading service details..."})]})})}):s?e.jsxs("div",{className:"container-fluid py-4",children:[e.jsx("div",{className:"row mb-4",children:e.jsx("div",{className:"col-12",children:e.jsxs("button",{className:"btn btn-light btn-sm",onClick:()=>r("/services"),children:[e.jsx("i",{className:"bi bi-arrow-left me-2"}),"Back to Services"]})})}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-lg-6 mb-4",children:e.jsx("div",{className:"card",children:e.jsxs("div",{className:"card-body p-0",children:[e.jsx("img",{src:s.cover_image?`http://127.0.0.1:8000/storage/${s.cover_image}`:"/media/misc/service-placeholder.jpg",className:"card-img-top",alt:s.title,style:{height:"400px",objectFit:"cover",width:"100%"}}),e.jsxs("div",{className:"position-absolute top-0 start-0 m-3",children:[s.promotional_badge&&e.jsx("span",{className:"badge bg-warning mb-2 d-block",children:s.promotional_badge}),s.job_category&&e.jsx("span",{className:"badge bg-primary",children:s.job_category.name})]}),s.average_rating>0&&e.jsx("div",{className:"position-absolute top-0 end-0 m-3",children:e.jsxs("span",{className:"badge bg-dark bg-opacity-75 text-white",children:[e.jsx("i",{className:"bi bi-star-fill text-warning me-1"}),s.average_rating.toFixed(1)," (",s.review_count," reviews)"]})})]})})}),e.jsx("div",{className:"col-lg-6",children:e.jsx("div",{className:"card h-100",children:e.jsxs("div",{className:"card-body",children:[e.jsx("h1",{className:"h3 mb-3",children:s.title}),e.jsx("div",{className:"mb-4",children:e.jsx("p",{className:"text-muted mb-0",children:s.description})}),e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("h3",{className:"text-primary mb-0 me-3",children:x(s.price,s.currency||"UGX")}),s.price_description&&e.jsx("span",{className:"text-muted",children:s.price_description})]})}),e.jsxs("div",{className:"row mb-4",children:[s.delivery_time&&e.jsx("div",{className:"col-md-6 mb-3",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{className:"bi bi-clock text-primary me-2"}),e.jsxs("div",{children:[e.jsx("small",{className:"text-muted d-block",children:"Delivery Time"}),e.jsx("span",{children:s.delivery_time})]})]})}),s.experience_years&&e.jsx("div",{className:"col-md-6 mb-3",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{className:"bi bi-award text-primary me-2"}),e.jsxs("div",{children:[e.jsx("small",{className:"text-muted d-block",children:"Experience"}),e.jsx("span",{children:s.experience_years})]})]})}),s.location&&e.jsx("div",{className:"col-md-6 mb-3",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{className:"bi bi-geo-alt text-primary me-2"}),e.jsxs("div",{children:[e.jsx("small",{className:"text-muted d-block",children:"Location"}),e.jsx("span",{children:s.location})]})]})}),s.languages_spoken&&e.jsx("div",{className:"col-md-6 mb-3",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{className:"bi bi-translate text-primary me-2"}),e.jsxs("div",{children:[e.jsx("small",{className:"text-muted d-block",children:"Languages"}),e.jsx("span",{children:s.languages_spoken})]})]})})]}),e.jsxs("div",{className:"d-flex gap-3 mb-4",children:[e.jsxs("button",{className:"btn btn-primary flex-fill",onClick:h,children:[e.jsx("i",{className:"bi bi-calendar-check me-2"}),"Book Now"]}),e.jsx("button",{className:"btn btn-outline-primary",onClick:j,children:e.jsx("i",{className:"bi bi-chat-dots"})}),e.jsx("button",{className:"btn btn-outline-secondary",onClick:()=>c.info("Bookmark feature coming soon!"),children:e.jsx("i",{className:"bi bi-bookmark"})})]}),s.provider&&e.jsxs("div",{className:"border-top pt-4",children:[e.jsx("h6",{className:"mb-3",children:"Service Provider"}),e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"symbol symbol-50px me-3",children:e.jsx("img",{src:s.provider.avatar?`http://127.0.0.1:8000/storage/${s.provider.avatar}`:"/media/avatars/blank.png",alt:s.provider.name,className:"rounded-circle",style:{width:"50px",height:"50px",objectFit:"cover"}})}),e.jsxs("div",{children:[e.jsx("h6",{className:"mb-1",children:s.provider.name}),e.jsxs("p",{className:"text-muted small mb-0",children:["Member since ",new Date(s.provider.created_at).getFullYear()]})]})]})]})]})})})]}),(s.details||s.client_requirements||s.process_description)&&e.jsx("div",{className:"row mt-4",children:e.jsx("div",{className:"col-12",children:e.jsx("div",{className:"card",children:e.jsxs("div",{className:"card-body",children:[e.jsx("h5",{className:"card-title mb-4",children:"Additional Information"}),s.details&&e.jsxs("div",{className:"mb-4",children:[e.jsx("h6",{children:"Service Details"}),e.jsx("div",{style:{whiteSpace:"pre-line"},children:s.details})]}),s.client_requirements&&e.jsxs("div",{className:"mb-4",children:[e.jsx("h6",{children:"Client Requirements"}),e.jsx("div",{style:{whiteSpace:"pre-line"},children:s.client_requirements})]}),s.process_description&&e.jsxs("div",{className:"mb-4",children:[e.jsx("h6",{children:"Process Description"}),e.jsx("div",{style:{whiteSpace:"pre-line"},children:s.process_description})]}),s.tags&&e.jsxs("div",{children:[e.jsx("h6",{children:"Tags"}),e.jsx("div",{children:s.tags.split(",").map((a,i)=>e.jsx("span",{className:"badge bg-light text-dark me-2 mb-2",children:a.trim()},i))})]})]})})})})]}):e.jsx("div",{className:"container-fluid py-4",children:e.jsx("div",{className:"row",children:e.jsxs("div",{className:"col-12 text-center py-5",children:[e.jsx("h5",{className:"text-muted",children:"Service not found"}),e.jsx("button",{className:"btn btn-primary mt-3",onClick:()=>r("/services"),children:"Back to Services"})]})})})};export{u as default};
