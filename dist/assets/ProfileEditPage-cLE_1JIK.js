var Ts=Object.defineProperty;var Os=(a,s,t)=>s in a?Ts(a,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[s]=t;var ye=(a,s,t)=>Os(a,typeof s!="symbol"?s+"":s,t);import{R as V,r as n,j as e,T as Rs,t as qs,c as T,s as Oe,E as Bs,a as Fs,b as Hs,d as Ls,e as Js,u as O,f as Je,g as le,h as Ye,i as Ys,k as ze,B as zs,l as Us,m as Gs,q as Re,n as Ws,A as Ks,o as Ue,p as Ge,v as Vs,w as P,x as Xs,y as G,z as k,C as u,F as U,D as ue,M as _,G as W,H as c,S as z,I as x,J as he,K as Z,L as R,N as xe,P as te,U as ae,O as oe,Q as fe,V as ce,W as de,X as je,Y as ge,Z as Qs,_ as Zs,$ as ea,a0 as me,a1 as Ae,a2 as sa,a3 as X,a4 as qe,a5 as aa,a6 as ta,a7 as la,a8 as ia,a9 as na,aa as Be,ab as ra,ac as se,ad as oa,ae as ca,af as ie,ag as da,ah as ne}from"./index-C-18IsR7.js";import{u as ma,m as pa,a as ua}from"./mergeOptionsWithPopperConfig-DtzNS8xW.js";function re(...a){return a.filter(s=>s!=null).reduce((s,t)=>{if(typeof t!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return s===null?t:function(...i){s.apply(this,i),t.apply(this,i)}},null)}const ha={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function xa(a,s){const t=`offset${a[0].toUpperCase()}${a.slice(1)}`,l=s[t],i=ha[a];return l+parseInt(Oe(s,i[0]),10)+parseInt(Oe(s,i[1]),10)}const fa={[Bs]:"collapse",[Fs]:"collapsing",[Hs]:"collapsing",[Ls]:"collapse show"},ja=V.forwardRef(({onEnter:a,onEntering:s,onEntered:t,onExit:l,onExiting:i,className:r,children:o,dimension:d="height",in:p=!1,timeout:h=300,mountOnEnter:j=!1,unmountOnExit:f=!1,appear:y=!1,getDimensionValue:b=xa,...S},D)=>{const v=typeof d=="function"?d():d,I=n.useMemo(()=>re(N=>{N.style[v]="0"},a),[v,a]),$=n.useMemo(()=>re(N=>{const m=`scroll${v[0].toUpperCase()}${v.slice(1)}`;N.style[v]=`${N[m]}px`},s),[v,s]),A=n.useMemo(()=>re(N=>{N.style[v]=null},t),[v,t]),w=n.useMemo(()=>re(N=>{N.style[v]=`${b(v,N)}px`,Js(N)},l),[l,b,v]),g=n.useMemo(()=>re(N=>{N.style[v]=null},i),[v,i]);return e.jsx(Rs,{ref:D,addEndListener:qs,...S,"aria-expanded":S.role?p:null,onEnter:I,onEntering:$,onEntered:A,onExit:w,onExiting:g,childRef:o.ref,in:p,timeout:h,mountOnEnter:j,unmountOnExit:f,appear:y,children:(N,m)=>V.cloneElement(o,{...m,className:T(r,o.props.className,fa[N],v==="width"&&"collapse-horizontal")})})});function We(a,s){return Array.isArray(a)?a.includes(s):a===s}const be=n.createContext({});be.displayName="AccordionContext";const De=n.forwardRef(({as:a="div",bsPrefix:s,className:t,children:l,eventKey:i,...r},o)=>{const{activeEventKey:d}=n.useContext(be);return s=O(s,"accordion-collapse"),e.jsx(ja,{ref:o,in:We(d,i),...r,className:T(t,s),children:e.jsx(a,{children:n.Children.only(l)})})});De.displayName="AccordionCollapse";const we=n.createContext({eventKey:""});we.displayName="AccordionItemContext";const Ke=n.forwardRef(({as:a="div",bsPrefix:s,className:t,onEnter:l,onEntering:i,onEntered:r,onExit:o,onExiting:d,onExited:p,...h},j)=>{s=O(s,"accordion-body");const{eventKey:f}=n.useContext(we);return e.jsx(De,{eventKey:f,onEnter:l,onEntering:i,onEntered:r,onExit:o,onExiting:d,onExited:p,children:e.jsx(a,{ref:j,...h,className:T(t,s)})})});Ke.displayName="AccordionBody";function ba(a,s){const{activeEventKey:t,onSelect:l,alwaysOpen:i}=n.useContext(be);return r=>{let o=a===t?null:a;i&&(Array.isArray(t)?t.includes(a)?o=t.filter(d=>d!==a):o=[...t,a]:o=[a]),l==null||l(o,r),s==null||s(r)}}const $e=n.forwardRef(({as:a="button",bsPrefix:s,className:t,onClick:l,...i},r)=>{s=O(s,"accordion-button");const{eventKey:o}=n.useContext(we),d=ba(o,l),{activeEventKey:p}=n.useContext(be);return a==="button"&&(i.type="button"),e.jsx(a,{ref:r,onClick:d,...i,"aria-expanded":Array.isArray(p)?p.includes(o):o===p,className:T(t,s,!We(p,o)&&"collapsed")})});$e.displayName="AccordionButton";const Ve=n.forwardRef(({as:a="h2",bsPrefix:s,className:t,children:l,onClick:i,...r},o)=>(s=O(s,"accordion-header"),e.jsx(a,{ref:o,...r,className:T(t,s),children:e.jsx($e,{onClick:i,children:l})})));Ve.displayName="AccordionHeader";const Xe=n.forwardRef(({as:a="div",bsPrefix:s,className:t,eventKey:l,...i},r)=>{s=O(s,"accordion-item");const o=n.useMemo(()=>({eventKey:l}),[l]);return e.jsx(we.Provider,{value:o,children:e.jsx(a,{ref:r,...i,className:T(t,s)})})});Xe.displayName="AccordionItem";const Qe=n.forwardRef((a,s)=>{const{as:t="div",activeKey:l,bsPrefix:i,className:r,onSelect:o,flush:d,alwaysOpen:p,...h}=Je(a,{activeKey:"onSelect"}),j=O(i,"accordion"),f=n.useMemo(()=>({activeEventKey:l,onSelect:o,alwaysOpen:p}),[l,o,p]);return e.jsx(be.Provider,{value:f,children:e.jsx(t,{ref:s,...h,className:T(r,j,d&&`${j}-flush`)})})});Qe.displayName="Accordion";const Q=Object.assign(Qe,{Button:$e,Collapse:De,Item:Xe,Header:Ve,Body:Ke});function va(a,s,t,l=!1){const i=le(t);n.useEffect(()=>{const r=typeof a=="function"?a():a;return r.addEventListener(s,i,l),()=>r.removeEventListener(s,i,l)},[a])}const Pe=n.forwardRef(({className:a,bsPrefix:s,as:t="div",...l},i)=>(s=O(s,"card-body"),e.jsx(t,{ref:i,className:T(a,s),...l})));Pe.displayName="CardBody";const Ze=n.forwardRef(({className:a,bsPrefix:s,as:t="div",...l},i)=>(s=O(s,"card-footer"),e.jsx(t,{ref:i,className:T(a,s),...l})));Ze.displayName="CardFooter";const es=n.createContext(null);es.displayName="CardHeaderContext";const ss=n.forwardRef(({bsPrefix:a,className:s,as:t="div",...l},i)=>{const r=O(a,"card-header"),o=n.useMemo(()=>({cardHeaderBsPrefix:r}),[r]);return e.jsx(es.Provider,{value:o,children:e.jsx(t,{ref:i,...l,className:T(s,r)})})});ss.displayName="CardHeader";const as=n.forwardRef(({bsPrefix:a,className:s,variant:t,as:l="img",...i},r)=>{const o=O(a,"card-img");return e.jsx(l,{ref:r,className:T(t?`${o}-${t}`:o,s),...i})});as.displayName="CardImg";const ts=n.forwardRef(({className:a,bsPrefix:s,as:t="div",...l},i)=>(s=O(s,"card-img-overlay"),e.jsx(t,{ref:i,className:T(a,s),...l})));ts.displayName="CardImgOverlay";const ls=n.forwardRef(({className:a,bsPrefix:s,as:t="a",...l},i)=>(s=O(s,"card-link"),e.jsx(t,{ref:i,className:T(a,s),...l})));ls.displayName="CardLink";const ya=Ye("h6"),is=n.forwardRef(({className:a,bsPrefix:s,as:t=ya,...l},i)=>(s=O(s,"card-subtitle"),e.jsx(t,{ref:i,className:T(a,s),...l})));is.displayName="CardSubtitle";const ns=n.forwardRef(({className:a,bsPrefix:s,as:t="p",...l},i)=>(s=O(s,"card-text"),e.jsx(t,{ref:i,className:T(a,s),...l})));ns.displayName="CardText";const Na=Ye("h5"),rs=n.forwardRef(({className:a,bsPrefix:s,as:t=Na,...l},i)=>(s=O(s,"card-title"),e.jsx(t,{ref:i,className:T(a,s),...l})));rs.displayName="CardTitle";const os=n.forwardRef(({bsPrefix:a,className:s,bg:t,text:l,border:i,body:r=!1,children:o,as:d="div",...p},h)=>{const j=O(a,"card");return e.jsx(d,{ref:h,...p,className:T(s,j,t&&`bg-${t}`,l&&`text-${l}`,i&&`border-${i}`),children:r?e.jsx(Pe,{children:o}):o})});os.displayName="Card";const L=Object.assign(os,{Img:as,Title:rs,Subtitle:is,Body:Pe,Link:ls,Text:ns,Header:ss,Footer:Ze,ImgOverlay:ts}),Ie=n.forwardRef(({bsPrefix:a,fluid:s=!1,as:t="div",className:l,...i},r)=>{const o=O(a,"container"),d=typeof s=="string"?`-${s}`:"-fluid";return e.jsx(t,{ref:r,...i,className:T(l,s?`${o}${d}`:o)})});Ie.displayName="Container";function ga(a,s,t){const l=n.useRef(a!==void 0),[i,r]=n.useState(s),o=a!==void 0,d=l.current;return l.current=o,!o&&d&&i!==s&&r(s),[o?a:i,n.useCallback((...p)=>{const[h,...j]=p;let f=t==null?void 0:t(h,...j);return r(h),f},[t])]}function wa(){const[,a]=n.useReducer(s=>!s,!1);return a}const Ce=n.createContext(null),Ca=["children","usePopper"];function Sa(a,s){if(a==null)return{};var t={};for(var l in a)if({}.hasOwnProperty.call(a,l)){if(s.indexOf(l)>=0)continue;t[l]=a[l]}return t}const ka=()=>{};function cs(a={}){const s=n.useContext(Ce),[t,l]=Ys(),i=n.useRef(!1),{flip:r,offset:o,rootCloseEvent:d,fixed:p=!1,placement:h,popperConfig:j={},enableEventListeners:f=!0,usePopper:y=!!s}=a,b=(s==null?void 0:s.show)==null?!!a.show:s.show;b&&!i.current&&(i.current=!0);const S=N=>{s==null||s.toggle(!1,N)},{placement:D,setMenu:v,menuElement:I,toggleElement:$}=s||{},A=ma($,I,pa({placement:h||D||"bottom-start",enabled:y,enableEvents:f??b,offset:o,flip:r,fixed:p,arrowElement:t,popperConfig:j})),w=Object.assign({ref:v||ka,"aria-labelledby":$==null?void 0:$.id},A.attributes.popper,{style:A.styles.popper}),g={show:b,placement:D,hasShown:i.current,toggle:s==null?void 0:s.toggle,popper:y?A:null,arrowProps:y?Object.assign({ref:l},A.attributes.arrow,{style:A.styles.arrow}):{}};return ua(I,S,{clickTrigger:d,disabled:!b}),[w,g]}function ds(a){let{children:s,usePopper:t=!0}=a,l=Sa(a,Ca);const[i,r]=cs(Object.assign({},l,{usePopper:t}));return e.jsx(e.Fragment,{children:s(i,r)})}ds.displayName="DropdownMenu";const Ne={prefix:String(Math.round(Math.random()*1e10)),current:0},ms=V.createContext(Ne),Ea=V.createContext(!1);let Aa=!!(typeof window<"u"&&window.document&&window.document.createElement),ke=new WeakMap;function Da(a=!1){let s=n.useContext(ms),t=n.useRef(null);if(t.current===null&&!a){var l,i;let r=(i=V.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||i===void 0||(l=i.ReactCurrentOwner)===null||l===void 0?void 0:l.current;if(r){let o=ke.get(r);o==null?ke.set(r,{id:s.current,state:r.memoizedState}):r.memoizedState!==o.state&&(s.current=o.id,ke.delete(r))}t.current=++s.current}return t.current}function $a(a){let s=n.useContext(ms);s===Ne&&!Aa&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let t=Da(!!a),l=`react-aria${s.prefix}`;return a||`${l}-${t}`}function Pa(a){let s=V.useId(),[t]=n.useState(Oa()),l=t?"react-aria":`react-aria${Ne.prefix}`;return a||`${l}-${s}`}const Ia=typeof V.useId=="function"?Pa:$a;function _a(){return!1}function Ma(){return!0}function Ta(a){return()=>{}}function Oa(){return typeof V.useSyncExternalStore=="function"?V.useSyncExternalStore(Ta,_a,Ma):n.useContext(Ea)}const ps=a=>{var s;return((s=a.getAttribute("role"))==null?void 0:s.toLowerCase())==="menu"},Fe=()=>{};function us(){const a=Ia(),{show:s=!1,toggle:t=Fe,setToggle:l,menuElement:i}=n.useContext(Ce)||{},r=n.useCallback(d=>{t(!s,d)},[s,t]),o={id:a,ref:l||Fe,onClick:r,"aria-expanded":!!s};return i&&ps(i)&&(o["aria-haspopup"]=!0),[o,{show:s,toggle:t}]}function hs({children:a}){const[s,t]=us();return e.jsx(e.Fragment,{children:a(s,t)})}hs.displayName="DropdownToggle";const Ee=n.createContext(null),He=(a,s=null)=>a!=null?String(a):s||null,xs=n.createContext(null);xs.displayName="NavContext";const Ra=["eventKey","disabled","onClick","active","as"];function qa(a,s){if(a==null)return{};var t={};for(var l in a)if({}.hasOwnProperty.call(a,l)){if(s.indexOf(l)>=0)continue;t[l]=a[l]}return t}function fs({key:a,href:s,active:t,disabled:l,onClick:i}){const r=n.useContext(Ee),o=n.useContext(xs),{activeKey:d}=o||{},p=He(a,s),h=t==null&&a!=null?He(d)===p:t;return[{onClick:le(f=>{l||(i==null||i(f),r&&!f.isPropagationStopped()&&r(p,f))}),"aria-disabled":l||void 0,"aria-selected":h,[ze("dropdown-item")]:""},{isActive:h}]}const js=n.forwardRef((a,s)=>{let{eventKey:t,disabled:l,onClick:i,active:r,as:o=zs}=a,d=qa(a,Ra);const[p]=fs({key:t,href:d.href,disabled:l,onClick:i,active:r});return e.jsx(o,Object.assign({},d,{ref:s},p))});js.displayName="DropdownItem";function Le(){const a=wa(),s=n.useRef(null),t=n.useCallback(l=>{s.current=l,a()},[a]);return[s,t]}function ve({defaultShow:a,show:s,onSelect:t,onToggle:l,itemSelector:i=`* [${ze("dropdown-item")}]`,focusFirstItemOnShow:r,placement:o="bottom-start",children:d}){const p=Us(),[h,j]=ga(s,a,l),[f,y]=Le(),b=f.current,[S,D]=Le(),v=S.current,I=Gs(h),$=n.useRef(null),A=n.useRef(!1),w=n.useContext(Ee),g=n.useCallback((B,F,H=F==null?void 0:F.type)=>{j(B,{originalEvent:F,source:H})},[j]),N=le((B,F)=>{t==null||t(B,F),g(!1,F,"select"),F.isPropagationStopped()||w==null||w(B,F)}),m=n.useMemo(()=>({toggle:g,placement:o,show:h,menuElement:b,toggleElement:v,setMenu:y,setToggle:D}),[g,o,h,b,v,y,D]);b&&I&&!h&&(A.current=b.contains(b.ownerDocument.activeElement));const C=le(()=>{v&&v.focus&&v.focus()}),E=le(()=>{const B=$.current;let F=r;if(F==null&&(F=f.current&&ps(f.current)?"keyboard":!1),F===!1||F==="keyboard"&&!/^key.+$/.test(B))return;const H=Re(f.current,i)[0];H&&H.focus&&H.focus()});n.useEffect(()=>{h?E():A.current&&(A.current=!1,C())},[h,A,C,E]),n.useEffect(()=>{$.current=null});const q=(B,F)=>{if(!f.current)return null;const H=Re(f.current,i);let Y=H.indexOf(B)+F;return Y=Math.max(0,Math.min(Y,H.length)),H[Y]};return va(n.useCallback(()=>p.document,[p]),"keydown",B=>{var F,H;const{key:Y}=B,ee=B.target,Me=(F=f.current)==null?void 0:F.contains(ee),Ms=(H=S.current)==null?void 0:H.contains(ee);if(/input|textarea/i.test(ee.tagName)&&(Y===" "||Y!=="Escape"&&Me||Y==="Escape"&&ee.type==="search")||!Me&&!Ms||Y==="Tab"&&(!f.current||!h))return;$.current=B.type;const Se={originalEvent:B,source:B.type};switch(Y){case"ArrowUp":{const J=q(ee,-1);J&&J.focus&&J.focus(),B.preventDefault();return}case"ArrowDown":if(B.preventDefault(),!h)j(!0,Se);else{const J=q(ee,1);J&&J.focus&&J.focus()}return;case"Tab":Ws(ee.ownerDocument,"keyup",J=>{var Te;(J.key==="Tab"&&!J.target||!((Te=f.current)!=null&&Te.contains(J.target)))&&j(!1,Se)},{once:!0});break;case"Escape":Y==="Escape"&&(B.preventDefault(),B.stopPropagation()),j(!1,Se);break}}),e.jsx(Ee.Provider,{value:N,children:e.jsx(Ce.Provider,{value:m,children:d})})}ve.displayName="Dropdown";ve.Menu=ds;ve.Toggle=hs;ve.Item=js;const _e=n.createContext({});_e.displayName="DropdownContext";const bs=n.forwardRef(({className:a,bsPrefix:s,as:t="hr",role:l="separator",...i},r)=>(s=O(s,"dropdown-divider"),e.jsx(t,{ref:r,className:T(a,s),role:l,...i})));bs.displayName="DropdownDivider";const vs=n.forwardRef(({className:a,bsPrefix:s,as:t="div",role:l="heading",...i},r)=>(s=O(s,"dropdown-header"),e.jsx(t,{ref:r,className:T(a,s),role:l,...i})));vs.displayName="DropdownHeader";const ys=n.forwardRef(({bsPrefix:a,className:s,eventKey:t,disabled:l=!1,onClick:i,active:r,as:o=Ks,...d},p)=>{const h=O(a,"dropdown-item"),[j,f]=fs({key:t,href:d.href,disabled:l,onClick:i,active:r});return e.jsx(o,{...d,...j,ref:p,className:T(s,h,f.isActive&&"active",l&&"disabled")})});ys.displayName="DropdownItem";const Ns=n.forwardRef(({className:a,bsPrefix:s,as:t="span",...l},i)=>(s=O(s,"dropdown-item-text"),e.jsx(t,{ref:i,className:T(a,s),...l})));Ns.displayName="DropdownItemText";const gs=n.createContext(null);gs.displayName="NavbarContext";function ws(a,s){return a}function Cs(a,s,t){const l=t?"top-end":"top-start",i=t?"top-start":"top-end",r=t?"bottom-end":"bottom-start",o=t?"bottom-start":"bottom-end",d=t?"right-start":"left-start",p=t?"right-end":"left-end",h=t?"left-start":"right-start",j=t?"left-end":"right-end";let f=a?o:r;return s==="up"?f=a?i:l:s==="end"?f=a?j:h:s==="start"?f=a?p:d:s==="down-centered"?f="bottom":s==="up-centered"&&(f="top"),f}const Ss=n.forwardRef(({bsPrefix:a,className:s,align:t,rootCloseEvent:l,flip:i=!0,show:r,renderOnMount:o,as:d="div",popperConfig:p,variant:h,...j},f)=>{let y=!1;const b=n.useContext(gs),S=O(a,"dropdown-menu"),{align:D,drop:v,isRTL:I}=n.useContext(_e);t=t||D;const $=n.useContext(Ue),A=[];if(t)if(typeof t=="object"){const B=Object.keys(t);if(B.length){const F=B[0],H=t[F];y=H==="start",A.push(`${S}-${F}-${H}`)}}else t==="end"&&(y=!0);const w=Cs(y,v,I),[g,{hasShown:N,popper:m,show:C,toggle:E}]=cs({flip:i,rootCloseEvent:l,show:r,usePopper:!b&&A.length===0,offset:[0,2],popperConfig:p,placement:w});if(g.ref=Ge(ws(f),g.ref),Vs(()=>{C&&(m==null||m.update())},[C]),!N&&!o&&!$)return null;typeof d!="string"&&(g.show=C,g.close=()=>E==null?void 0:E(!1),g.align=t);let q=j.style;return m!=null&&m.placement&&(q={...j.style,...g.style},j["x-placement"]=m.placement),e.jsx(d,{...j,...g,style:q,...(A.length||b)&&{"data-bs-popper":"static"},className:T(s,S,C&&"show",y&&`${S}-end`,h&&`${S}-${h}`,...A)})});Ss.displayName="DropdownMenu";const ks=n.forwardRef(({bsPrefix:a,split:s,className:t,childBsPrefix:l,as:i=P,...r},o)=>{const d=O(a,"dropdown-toggle"),p=n.useContext(Ce);l!==void 0&&(r.bsPrefix=l);const[h]=us();return h.ref=Ge(h.ref,ws(o)),e.jsx(i,{className:T(t,d,s&&`${d}-split`,(p==null?void 0:p.show)&&"show"),...h,...r})});ks.displayName="DropdownToggle";const Es=n.forwardRef((a,s)=>{const{bsPrefix:t,drop:l="down",show:i,className:r,align:o="start",onSelect:d,onToggle:p,focusFirstItemOnShow:h,as:j="div",navbar:f,autoClose:y=!0,...b}=Je(a,{show:"onToggle"}),S=n.useContext(Ue),D=O(t,"dropdown"),v=Xs(),I=m=>y===!1?m==="click":y==="inside"?m!=="rootClose":y==="outside"?m!=="select":!0,$=le((m,C)=>{var E;!((E=C.originalEvent)==null||(E=E.target)==null)&&E.classList.contains("dropdown-toggle")&&C.source==="mousedown"||(C.originalEvent.currentTarget===document&&(C.source!=="keydown"||C.originalEvent.key==="Escape")&&(C.source="rootClose"),I(C.source)&&(p==null||p(m,C)))}),w=Cs(o==="end",l,v),g=n.useMemo(()=>({align:o,drop:l,isRTL:v}),[o,l,v]),N={down:D,"down-centered":`${D}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return e.jsx(_e.Provider,{value:g,children:e.jsx(ve,{placement:w,show:i,onSelect:d,onToggle:$,focusFirstItemOnShow:h,itemSelector:`.${D}-item:not(.disabled):not(:disabled)`,children:S?b.children:e.jsx(j,{...b,ref:s,className:T(r,i&&"show",N[l])})})})});Es.displayName="Dropdown";const M=Object.assign(Es,{Toggle:ks,Menu:Ss,Item:ys,ItemText:Ns,Divider:bs,Header:vs}),Ba=[{value:"primary",label:"Primary School"},{value:"secondary",label:"Secondary School"},{value:"bachelor",label:"Bachelor's Degree"},{value:"master",label:"Master's Degree"},{value:"doctorate",label:"Doctorate"},{value:"diploma",label:"Diploma"},{value:"certificate",label:"Certificate"}],As=G().shape({education_level:k().required("Education level is required"),major:k().required("Major/Concentration is required"),institution:k().required("Institution name is required"),duration:k().required("Duration is required"),graduation_year:k().required("Graduation year is required").matches(/^\d{4}$/,"Must be a valid year"),result:k().required("Result is required")}),Ds=G().shape({training_title:k().required("Training title is required"),provider:k().required("Provider is required"),year:k().required("Year is required").matches(/^\d{4}$/,"Must be valid year"),remarks:k().nullable()}),$s=G().shape({certificate_title:k().required("Certificate title is required"),issuing_authority:k().required("Issuing authority is required"),date_issued:k().required("Date issued is required"),certificate_id:k().nullable()}),Fa=n.memo(({academic:a,onEdit:s,onDelete:t})=>e.jsx(u.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3},children:e.jsxs(L,{className:"mb-3 hover-shadow",children:[e.jsxs(L.Header,{className:"d-flex justify-content-between align-items-center bg-light",children:[e.jsxs("div",{children:[e.jsxs("h5",{className:"mb-0 text-primary",children:[a.education_level," - ",a.major]}),e.jsx("small",{className:"text-muted",children:a.institution})]}),e.jsxs(M,{children:[e.jsx(M.Toggle,{variant:"link",className:"no-arrow",children:e.jsx(U,{className:"text-muted"})}),e.jsxs(M.Menu,{align:"end",children:[e.jsxs(M.Item,{onClick:s,children:[e.jsx(U,{className:"me-2"})," Edit"]}),e.jsxs(M.Item,{onClick:t,className:"text-danger",children:[e.jsx(ue,{className:"me-2"})," Delete"]})]})]})]}),e.jsx(L.Body,{children:e.jsxs("div",{className:"row g-2",children:[e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"text-muted small",children:"Duration"}),e.jsx("p",{className:"mb-0",children:a.duration})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"text-muted small",children:"Graduation Year"}),e.jsx("p",{className:"mb-0",children:a.graduation_year})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"text-muted small",children:"Result"}),e.jsx("p",{className:"mb-0",children:a.result})]})]})})]})})),Ha=n.memo(({training:a,onEdit:s,onDelete:t})=>e.jsx(u.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3},children:e.jsxs(L,{className:"mb-3 hover-shadow",children:[e.jsxs(L.Header,{className:"d-flex justify-content-between align-items-center bg-light",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"mb-0 text-primary",children:a.training_title}),e.jsx("small",{className:"text-muted",children:a.provider})]}),e.jsxs(M,{children:[e.jsx(M.Toggle,{variant:"link",className:"no-arrow",children:e.jsx(U,{className:"text-muted"})}),e.jsxs(M.Menu,{align:"end",children:[e.jsxs(M.Item,{onClick:s,children:[e.jsx(U,{className:"me-2"})," Edit"]}),e.jsxs(M.Item,{onClick:t,className:"text-danger",children:[e.jsx(ue,{className:"me-2"})," Delete"]})]})]})]}),e.jsx(L.Body,{children:e.jsxs("div",{className:"row g-2",children:[e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"text-muted small",children:"Year"}),e.jsx("p",{className:"mb-0",children:a.year})]}),e.jsxs("div",{className:"col-md-8",children:[e.jsx("label",{className:"text-muted small",children:"Remarks"}),e.jsx("p",{className:"mb-0",children:a.remarks||"N/A"})]})]})})]})})),La=n.memo(({certificate:a,onEdit:s,onDelete:t})=>e.jsx(u.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3},children:e.jsxs(L,{className:"mb-3 hover-shadow",children:[e.jsxs(L.Header,{className:"d-flex justify-content-between align-items-center bg-light",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"mb-0 text-primary",children:a.certificate_title}),e.jsx("small",{className:"text-muted",children:a.issuing_authority})]}),e.jsxs(M,{children:[e.jsx(M.Toggle,{variant:"link",className:"no-arrow",children:e.jsx(U,{className:"text-muted"})}),e.jsxs(M.Menu,{align:"end",children:[e.jsxs(M.Item,{onClick:s,children:[e.jsx(U,{className:"me-2"})," Edit"]}),e.jsxs(M.Item,{onClick:t,className:"text-danger",children:[e.jsx(ue,{className:"me-2"})," Delete"]})]})]})]}),e.jsx(L.Body,{children:e.jsxs("div",{className:"row g-2",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"text-muted small",children:"Date Issued"}),e.jsx("p",{className:"mb-0",children:a.date_issued})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"text-muted small",children:"Certificate ID"}),e.jsx("p",{className:"mb-0",children:a.certificate_id||"N/A"})]})]})})]})})),Ja=()=>{const a=he(),{currentUser:s,setCurrentUser:t}=Z(),[l,i]=n.useState(!1),[r,o]=n.useState(!1),[d,p]=n.useState(!1),[h,j]=n.useState(null),[f,y]=n.useState(null),[b,S]=n.useState(null),[D,v]=n.useState(!1);if(!s)return R.error("User not found"),null;const I={academics:s!=null&&s.degree_university_name?JSON.parse(s.degree_university_name):[],trainings:s!=null&&s.high_school_name?JSON.parse(s.high_school_name):[],certifications:s!=null&&s.seconday_school_name?JSON.parse(s.seconday_school_name):[],submitAction:""},$=n.useCallback(async w=>{v(!0);try{const g={...s,degree_university_name:JSON.stringify(w.academics),high_school_name:JSON.stringify(w.trainings),seconday_school_name:JSON.stringify(w.certifications)},N=await xe("profile",g),m=te.fromJson(JSON.stringify(N));ae.saveProfile(m),R.success("Profile updated successfully",{icon:e.jsx("span",{children:"✅"})}),w.submitAction==="saveAndNext"&&(t(m),a("/admin/profile-edit/employment"))}catch{R.error("Failed to save profile updates",{icon:e.jsx("span",{children:"❌"})})}finally{v(!1)}},[s,t,a]),A=n.useCallback((w,g,N)=>{R(e.jsxs("div",{children:[e.jsxs("p",{children:["Delete this ",N," entry?"]}),e.jsxs("div",{className:"d-flex gap-2 mt-2",children:[e.jsx("button",{className:"btn btn-danger btn-sm",onClick:()=>{g(w),R.dismiss()},children:"Delete"}),e.jsx("button",{className:"btn btn-secondary btn-sm",onClick:()=>R.dismiss(),children:"Cancel"})]})]}),{icon:e.jsx("span",{children:"⚠️"})})},[]);return e.jsx(W,{initialValues:I,validateOnChange:!1,validationSchema:G({academics:oe().of(As),trainings:oe().of(Ds),certifications:oe().of($s)}),onSubmit:$,children:({values:w,setFieldValue:g})=>e.jsxs(fe,{children:[e.jsxs("div",{className:"accordion",id:"eduAccordion",children:[e.jsxs(u.div,{className:"accordion-item",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3},children:[e.jsx("h2",{className:"accordion-header bg-light text-black fw-bold",id:"academicsHeading",children:e.jsx("button",{className:"accordion-button bg-light text-black fw-bold text-gray-900",type:"button","data-bs-toggle":"collapse","data-bs-target":"#academicsCollapse","aria-expanded":"true","aria-controls":"academicsCollapse",children:e.jsx("span",{className:"fs-1 fw-bolder text-primary",children:"Academic Qualifications"})})}),e.jsx("div",{id:"academicsCollapse",className:"accordion-collapse collapse show","aria-labelledby":"academicsHeading","data-bs-parent":"#eduAccordion",children:e.jsxs("div",{className:"accordion-body",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[e.jsx("span",{className:"fw-bold",children:"List of Academic Entries"}),e.jsxs(P,{variant:"primary",size:"sm",onClick:()=>{j(null),i(!0)},children:[e.jsx(ce,{className:"me-2"})," Add Entry"]})]}),e.jsx(de,{name:"academics",children:({push:N,remove:m,replace:C})=>e.jsxs(e.Fragment,{children:[w.academics.map((E,q)=>e.jsx(Fa,{academic:E,onEdit:()=>{j(q),i(!0)},onDelete:()=>A(q,m,"academic")},E.id)),e.jsx(Ya,{show:l,onHide:()=>i(!1),onSubmit:E=>{h!==null?C(h,E):N(E),i(!1)},initialValues:h!==null?w.academics[h]:null})]})})]})})]}),e.jsxs(u.div,{className:"accordion-item",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},children:[e.jsx("h2",{className:"accordion-header bg-light text-black fw-bold",id:"trainingHeading",children:e.jsx("button",{className:"accordion-button bg-light text-black fw-bold text-gray-900 collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#trainingCollapse","aria-expanded":"false","aria-controls":"trainingCollapse",children:e.jsx("span",{className:"fs-1 fw-bolder text-primary",children:"Trainings"})})}),e.jsx("div",{id:"trainingCollapse",className:"accordion-collapse collapse","aria-labelledby":"trainingHeading","data-bs-parent":"#eduAccordion",children:e.jsxs("div",{className:"accordion-body",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[e.jsx("span",{className:"fw-bold",children:"List of Trainings"}),e.jsxs(P,{variant:"primary",size:"sm",onClick:()=>{y(null),o(!0)},children:[e.jsx(ce,{className:"me-2"})," Add Training"]})]}),e.jsx(de,{name:"trainings",children:({push:N,remove:m,replace:C})=>e.jsxs(e.Fragment,{children:[w.trainings.map((E,q)=>e.jsx(Ha,{training:E,onEdit:()=>{y(q),o(!0)},onDelete:()=>A(q,m,"training")},E.id)),e.jsx(za,{show:r,onHide:()=>o(!1),onSubmit:E=>{f!==null?C(f,E):N(E),o(!1)},initialValues:f!==null?w.trainings[f]:null})]})})]})})]}),e.jsxs(u.div,{className:"accordion-item",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.2},children:[e.jsx("h2",{className:"accordion-header bg-light text-black fw-bold",id:"certHeading",children:e.jsx("button",{className:"accordion-button bg-light text-black fw-bold text-gray-900 collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#certCollapse","aria-expanded":"false","aria-controls":"certCollapse",children:e.jsx("span",{className:"fs-1 fw-bolder text-primary",children:"Professional Certificates"})})}),e.jsx("div",{id:"certCollapse",className:"accordion-collapse collapse","aria-labelledby":"certHeading","data-bs-parent":"#eduAccordion",children:e.jsxs("div",{className:"accordion-body",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[e.jsx("span",{className:"fw-bold",children:"List of Certificates"}),e.jsxs(P,{variant:"primary",size:"sm",onClick:()=>{S(null),p(!0)},children:[e.jsx(ce,{className:"me-2"})," Add Certificate"]})]}),e.jsx(de,{name:"certifications",children:({push:N,remove:m,replace:C})=>e.jsxs(e.Fragment,{children:[w.certifications.map((E,q)=>e.jsx(La,{certificate:E,onEdit:()=>{S(q),p(!0)},onDelete:()=>A(q,m,"certificate")},E.id)),e.jsx(Ua,{show:d,onHide:()=>p(!1),onSubmit:E=>{b!==null?C(b,E):N(E),p(!1)},initialValues:b!==null?w.certifications[b]:null})]})})]})})]})]}),e.jsxs("div",{className:"d-flex justify-content-between mt-5 border-top pt-4 mb-4 pe-5 ps-0",children:[e.jsx("button",{type:"button",className:"btn btn-outline-primary",onClick:()=>a("/admin/profile-edit/bio"),children:"← Back"}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsxs("button",{type:"submit",className:"btn btn-primary",onClick:()=>g("submitAction","save"),disabled:D,children:[e.jsx(je,{className:"me-2"}),D?"Saving...":"Save"]}),e.jsxs("button",{type:"submit",className:"btn btn-success",onClick:()=>g("submitAction","saveAndNext"),disabled:D,children:["Next Step",e.jsx(ge,{className:"ms-2"})]})]})]})]})})},Ya=n.memo(({show:a,onHide:s,onSubmit:t,initialValues:l})=>e.jsx(_,{show:a,onHide:s,centered:!0,size:"lg",children:e.jsx(W,{initialValues:l||{id:Math.random().toString(36).substr(2,9),education_level:"",major:"",institution:"",duration:"",graduation_year:"",result:""},validationSchema:As,onSubmit:t,validateOnChange:!1,children:({handleSubmit:i,isValidating:r})=>e.jsxs(e.Fragment,{children:[e.jsx(_.Header,{closeButton:!0,className:"bg-light",children:e.jsx(_.Title,{children:l?"Edit Education":"Add New Education"})}),e.jsx(_.Body,{children:e.jsxs("div",{className:"row g-3",children:[e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"education_level",label:"Education Level",component:o=>e.jsx(z,{...o,options:Ba,placeholder:"Select"})})}),e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"major",label:"Major/Concentration",placeholder:"e.g. Computer Science",component:x})}),e.jsx("div",{className:"col-md-12",children:e.jsx(c,{name:"institution",label:"Institution Name",placeholder:"University of Example",component:x})}),e.jsx("div",{className:"col-md-4",children:e.jsx(c,{name:"duration",label:"Duration",placeholder:"e.g. 4 years",component:x})}),e.jsx("div",{className:"col-md-4",children:e.jsx(c,{name:"graduation_year",label:"Graduation Year",placeholder:"2020",component:x})}),e.jsx("div",{className:"col-md-4",children:e.jsx(c,{name:"result",label:"Result",placeholder:"e.g. GPA 3.8",component:x})})]})}),e.jsxs(_.Footer,{className:"border-0",children:[e.jsx(P,{variant:"secondary",onClick:s,children:"Cancel"}),e.jsx(P,{variant:"primary",onClick:()=>i(),disabled:r,children:l?"Save Changes":"Add Education"})]})]})})})),za=n.memo(({show:a,onHide:s,onSubmit:t,initialValues:l})=>e.jsx(_,{show:a,onHide:s,centered:!0,size:"lg",children:e.jsx(W,{initialValues:l||{id:Math.random().toString(36).substr(2,9),training_title:"",provider:"",year:"",remarks:""},validationSchema:Ds,onSubmit:t,validateOnChange:!1,children:({handleSubmit:i,isValidating:r})=>e.jsxs(e.Fragment,{children:[e.jsx(_.Header,{closeButton:!0,className:"bg-light",children:e.jsx(_.Title,{children:l?"Edit Training":"Add New Training"})}),e.jsx(_.Body,{children:e.jsxs("div",{className:"row g-3",children:[e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"training_title",label:"Training Title",placeholder:"e.g. Project Management",component:x})}),e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"provider",label:"Provider",placeholder:"e.g. ABC Institute",component:x})}),e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"year",label:"Year",placeholder:"2021",component:x})}),e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"remarks",label:"Remarks",placeholder:"Any relevant notes...",component:x})})]})}),e.jsxs(_.Footer,{className:"border-0",children:[e.jsx(P,{variant:"secondary",onClick:s,children:"Cancel"}),e.jsx(P,{variant:"primary",onClick:()=>i(),disabled:r,children:l?"Save Changes":"Add Training"})]})]})})})),Ua=n.memo(({show:a,onHide:s,onSubmit:t,initialValues:l})=>e.jsx(_,{show:a,onHide:s,centered:!0,size:"lg",children:e.jsx(W,{initialValues:l||{id:Math.random().toString(36).substr(2,9),certificate_title:"",issuing_authority:"",date_issued:"",certificate_id:""},validationSchema:$s,onSubmit:t,validateOnChange:!1,children:({handleSubmit:i,isValidating:r})=>e.jsxs(e.Fragment,{children:[e.jsx(_.Header,{closeButton:!0,className:"bg-light",children:e.jsx(_.Title,{children:l?"Edit Certificate":"Add New Certificate"})}),e.jsx(_.Body,{children:e.jsxs("div",{className:"row g-3",children:[e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"certificate_title",label:"Certificate Title",placeholder:"e.g. Certified Network Admin",component:x})}),e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"issuing_authority",label:"Issuing Authority",placeholder:"e.g. Cisco",component:x})}),e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"date_issued",label:"Date Issued",placeholder:"2022-05-10",component:x})}),e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"certificate_id",label:"Certificate ID",placeholder:"Optional",component:x})})]})}),e.jsxs(_.Footer,{className:"border-0",children:[e.jsx(P,{variant:"secondary",onClick:s,children:"Cancel"}),e.jsx(P,{variant:"primary",onClick:()=>i(),disabled:r,children:l?"Save Changes":"Add Certificate"})]})]})})})),Ps=n.createContext(void 0),Ga=()=>{const a=n.useContext(Ps);if(!a)throw new Error("useProfileEdit must be used within a ProfileEditProvider");return a},Wa=({children:a})=>{const[s,t]=n.useState(new te);return e.jsx(Ps.Provider,{value:{profile:s,setProfile:t},children:a})};class pe{constructor(){ye(this,"id","0");ye(this,"jobs_count","");ye(this,"name","")}static async getItems(){let s=[];try{if(s=await this.getLocal(),s.length>0)return this.getOnline().catch(console.error),s}catch(t){console.error("Error fetching local data:",t)}try{if(await this.getOnline(),s=await this.getLocal(),!s||s.length===0)throw new Error("Failed to fetch districts.");return s}catch(t){throw alert("Failed to load districts: "+t),t}}static async getLocal(){try{const s=ae.loadFromDatabase(Qs);return Array.isArray(s)?s.map(t=>pe.fromJson(JSON.stringify(t))):[]}catch(s){return console.error("Error reading local districts:",s),[]}}static async getOnline(){try{const s=await Zs("districts",{});if(s.code!==1||!Array.isArray(s.data))throw new Error(s.message||"Failed to fetch items.")}catch(s){throw console.error("Error fetching remote districts:",s),s}}toJSON(){const s={};for(const t in this)Object.prototype.hasOwnProperty.call(this,t)&&(s[t]=this[t]);return s}static fromJson(s){try{const t=JSON.parse(s)||{},l=new pe;for(const i of Object.keys(t))i in l&&(l[i]=t[i]);return l}catch{return new pe}}}const K={hidden:{opacity:0,y:10},visible:{opacity:1,y:0,transition:{duration:.3}},exit:{opacity:0,y:10}},Ka=()=>{const a=he(),[s,t]=n.useState(!1),[l,i]=n.useState(!1),[r,o]=n.useState(""),[d,p]=n.useState(""),[h,j]=n.useState(!1),{setCurrentUser:f}=Z(),{currentUser:y}=Z(),[b,S]=n.useState([]),[D,v]=n.useState([]);if(!y)return alert("User not found"),null;const I=G().shape({first_name:k().required("First Name is required"),last_name:k().min(2,"Last Name must be at least 2 characters").required("Last Name is required"),sex:k().required("Gender is required"),title:k().required("Title is required")});n.useEffect(()=>{$()},[]);const $=async()=>{var w=await ea.getItems();if(w!=null&&w.CATEGORIES!=null){var g=[];for(var N in w.CATEGORIES){var m=w.CATEGORIES[N];m!=null&&g.push({value:m.id,label:m.name})}g.length>0?v(g):alert("No job categories found")}var C=[];try{C=await pe.getItems()}catch(q){alert("Failed to load districts: "+q);return}if(C.length<1){alert("No districts found");return}S([]);let E=[];for(const q of C)q.name&&E.push({value:q.id+"",label:q.name});S(E)},A=async(w,g)=>{o(""),p(""),j(!0);const N=(w==null?void 0:w.submitAction)||"save";try{const m=await xe("profile",w),C=te.fromJson(JSON.stringify(m));f(C),ae.saveProfile(C),p("Profile updated successfully"),R.success("Profile updated successfully"),N==="saveAndNext"&&a("/admin/profile-edit/education")}catch(m){o("Failed: "+m),R.error("Profile update failed"),g.setSubmitting(!1)}finally{j(!1),g.setSubmitting(!1)}};return e.jsx(W,{initialValues:y,validationSchema:I,onSubmit:A,children:({values:w,isSubmitting:g,setFieldValue:N})=>e.jsx(me,{mode:"wait",children:e.jsx(u.div,{variants:K,initial:"hidden",animate:"visible",exit:"exit",children:e.jsxs(fe,{children:[h&&e.jsx(u.div,{className:"position-absolute top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center bg-dark bg-opacity-50",variants:K,initial:"hidden",animate:"visible",exit:"exit",style:{zIndex:9999},children:e.jsx("div",{className:"spinner-border text-light",role:"status",children:e.jsx("span",{className:"visually-hidden",children:"Loading..."})})}),r&&e.jsxs(u.div,{className:"alert alert-danger alert-dismissible fade show",role:"alert",variants:K,initial:"hidden",animate:"visible",exit:"exit",children:[r,e.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"alert","aria-label":"Close"})]}),d&&e.jsxs(u.div,{className:"alert alert-success alert-dismissible fade show",role:"alert",variants:K,initial:"hidden",animate:"visible",exit:"exit",children:[d,e.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"alert","aria-label":"Close"})]}),e.jsxs("div",{className:"accordion",id:"profileEditAccordion",children:[e.jsxs(u.div,{className:"accordion-item",variants:K,initial:"hidden",animate:"visible",exit:"exit",children:[e.jsx("h2",{className:"accordion-header bg-light text-black fw-bold",id:"headingOne",children:e.jsx("button",{className:"accordion-button bg-light text-black fw-bold text-gray-900",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseOne","aria-expanded":"true","aria-controls":"collapseOne",children:e.jsx("span",{className:"fs-1 fw-bolder text-primary",children:"Personal Details"})})}),e.jsx("div",{id:"collapseOne",className:"accordion-collapse collapse show","aria-labelledby":"headingOne","data-bs-parent":"#profileEditAccordion",children:e.jsxs("div",{className:"accordion-body",children:[e.jsxs("div",{className:"row mb-3",children:[e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"title",label:"Title",options:[{value:"Mr",label:"Mr"},{value:"Mrs",label:"Mrs"},{value:"Miss",label:"Miss"},{value:"Ms",label:"Ms"},{value:"Dr",label:"Dr"},{value:"Prof",label:"Prof"},{value:"Rev",label:"Rev"},{value:"Hon",label:"Hon"}],component:z})}),e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"first_name",label:e.jsxs(e.Fragment,{children:["First Name"," ",e.jsx("span",{className:"text-danger",children:"*"})]}),placeholder:"Enter First Name",component:x})})]}),e.jsxs("div",{className:"row mb-3",children:[e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"last_name",label:"Last Name",placeholder:"Enter Last Name",component:x})}),e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"sex",label:"Gender",options:[{value:"Male",label:"Male"},{value:"Female",label:"Female"},{value:"Other",label:"Other"}],component:m=>e.jsx(z,{...m})})})]}),e.jsxs("div",{className:"row mb-3",children:[e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"father_name",label:"Father's Name",placeholder:"Enter Father's Name",component:x})}),e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"mother_name",label:"Mother's Name",placeholder:"Enter Mother's Name",component:x})})]}),e.jsxs("div",{className:"row mb-3",children:[e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"date_of_birth",label:"Date of Birth",component:Ae})}),e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"religion",label:"Religion",options:[{value:"Islam",label:"Islam"},{value:"Christian",label:"Christian"},{value:"Hindu",label:"Hindu"},{value:"Other",label:"Other"}],component:z})})]}),e.jsxs("div",{className:"row mb-3",children:[e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"marital_status",label:"Marital Status",options:[{value:"Single",label:"Single"},{value:"Married",label:"Married"},{value:"Divorced",label:"Divorced"},{value:"Widowed",label:"Widowed"}],component:z})}),e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"nationality",label:"Nationality",options:sa,component:z})})]}),e.jsxs("div",{className:"row mb-3",children:[e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"languages",label:"Languages",placeholder:"e.g. English, Swahili",component:x})}),e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"blood_group",label:"Blood Group",options:[{value:"A+",label:"A+"},{value:"A-",label:"A-"},{value:"B+",label:"B+"},{value:"B-",label:"B-"},{value:"O+",label:"O+"},{value:"O-",label:"O-"},{value:"AB+",label:"AB+"},{value:"AB-",label:"AB-"}],component:z})})]}),e.jsxs("div",{className:"row mb-3",children:[e.jsx("div",{className:"col-md-4",children:e.jsx(c,{name:"height",label:"Height",placeholder:"e.g. 170 cm",component:x})}),e.jsx("div",{className:"col-md-4",children:e.jsx(c,{name:"weight",label:"Weight",placeholder:"e.g. 65 kg",component:x})}),e.jsx("div",{className:"col-md-4",children:e.jsx(c,{name:"has_disability",label:"Do you have a disability?",options:[{value:"Yes",label:"Yes"},{value:"No",label:"No"}],component:m=>e.jsx(X,{...m,radioClass:"form-check form-check-inline",onChange:C=>{m.form.setFieldValue(m.field.name,C.target.value),i(C.target.value==="Yes")}})})})]}),e.jsx(me,{mode:"wait",children:l&&e.jsxs(u.div,{variants:K,initial:"hidden",animate:"visible",exit:"exit",children:[e.jsxs("div",{className:"row mb-3",children:[e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"is_registered_on_disability",label:"Are you registered on ict4personswithdisabilities.org?",options:[{value:"Yes",label:"Yes"},{value:"No",label:"No"}],component:m=>e.jsx(X,{...m,radioClass:"form-check form-check-inline"})})}),e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"disability_type",label:"Disability Type",placeholder:"Enter Disability Type",component:x})})]}),e.jsx("div",{className:"row mb-3",children:e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"dificulty_display_on_cv",label:"Display Difficulty on CV",options:[{value:"Yes",label:"Yes"},{value:"No",label:"No"}],component:m=>e.jsx(X,{...m,radioClass:"form-check form-check-inline"})})})}),e.jsxs("div",{className:"row mb-3",children:[e.jsx("div",{className:"col-md-3",children:e.jsx(c,{name:"dificulty_to_see",label:"Difficulty to See",options:[{value:"Yes",label:"Yes"},{value:"No",label:"No"}],component:m=>e.jsx(X,{...m,radioClass:"form-check form-check-inline"})})}),e.jsx("div",{className:"col-md-3",children:e.jsx(c,{name:"dificulty_to_hear",label:"Difficulty to Hear",options:[{value:"Yes",label:"Yes"},{value:"No",label:"No"}],component:m=>e.jsx(X,{...m,radioClass:"form-check form-check-inline"})})}),e.jsx("div",{className:"col-md-3",children:e.jsx(c,{name:"dificulty_to_walk",label:"Difficulty to Walk",options:[{value:"Yes",label:"Yes"},{value:"No",label:"No"}],component:m=>e.jsx(X,{...m,radioClass:"form-check form-check-inline"})})}),e.jsx("div",{className:"col-md-3",children:e.jsx(c,{name:"dificulty_to_speak",label:"Difficulty to Speak",options:[{value:"Yes",label:"Yes"},{value:"No",label:"No"}],component:m=>e.jsx(X,{...m,radioClass:"form-check form-check-inline"})})})]})]})})]})})]}),e.jsxs(u.div,{className:"accordion-item",variants:K,initial:"hidden",animate:"visible",exit:"exit",children:[e.jsx("h2",{className:"accordion-header bg-light text-black fw-bold",id:"headingTwo",children:e.jsx("button",{className:"accordion-button collapsed bg-light text-black fw-bold",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseTwo","aria-expanded":"false","aria-controls":"collapseTwo",children:e.jsx("span",{className:"fs-1 fw-bolder text-primary",children:"Contact & Identity"})})}),e.jsx("div",{id:"collapseTwo",className:"accordion-collapse collapse","aria-labelledby":"headingTwo","data-bs-parent":"#profileEditAccordion",children:e.jsxs("div",{className:"accordion-body",children:[e.jsxs("div",{className:"row mb-3",children:[e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"district_id",label:"District",placeholder:"District of Residence",options:b,component:z})}),e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"home_address",label:"Home Address",placeholder:"Permanent or Family Residence",component:x})}),e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"current_address",label:"Current Address",placeholder:"Present Working/Residence Address",component:x})})]}),e.jsxs("div",{className:"row mb-3",children:[e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"phone_number_1",label:e.jsx(e.Fragment,{children:"Phone Number 1"}),placeholder:"Primary Contact No.",component:x,disabled:!0})}),e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"phone_number_2",label:"Phone Number 2",placeholder:"Alternate Contact No.",component:x})})]}),e.jsxs("div",{className:"row mb-3",children:[e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"country_code",label:"Country Code",placeholder:"e.g. +256",component:x})}),e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"emergency_person_name",label:"Emergency Contact Name",placeholder:"Who to contact in emergency",component:x})})]}),e.jsxs("div",{className:"row mb-3",children:[e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"emergency_person_phone",label:"Emergency Contact Phone",placeholder:"Enter phone no.",component:x})}),e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"national_id_number",label:"National ID Number",placeholder:"Enter your National ID",component:x})})]}),e.jsxs("div",{className:"row mb-3",children:[e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"passport_number",label:"Passport Number",placeholder:"Enter Passport No.",component:x})}),e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"tin",label:"TIN",placeholder:"Tax Identification Number",component:x})})]}),e.jsx("div",{className:"row mb-3",children:e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"nssf_number",label:"NSSF Number",placeholder:"Social Security Number",component:x})})})]})})]}),e.jsxs(u.div,{className:"accordion-item",variants:K,initial:"hidden",animate:"visible",exit:"exit",children:[e.jsx("h2",{className:"accordion-header bg-light text-black fw-bold",id:"headingThree",children:e.jsx("button",{className:"accordion-button collapsed bg-light text-black fw-bold",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseThree","aria-expanded":"false","aria-controls":"collapseThree",children:e.jsx("span",{className:"fs-1 fw-bolder text-primary",children:"Professional & Job Preferences"})})}),e.jsx("div",{id:"collapseThree",className:"accordion-collapse collapse","aria-labelledby":"headingThree","data-bs-parent":"#profileEditAccordion",children:e.jsxs("div",{className:"accordion-body",children:[e.jsxs("div",{className:"row mb-3",children:[e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"special_qualification",label:"Job Designation",placeholder:"e.g. Software Engineer, Business Analyst, etc.",component:x})}),e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"objective",label:"Career Objective",placeholder:"Briefly describe your career objective",component:qe})})]}),e.jsx("div",{className:"row mb-3",children:e.jsx("div",{className:"col-md-12",children:e.jsx(c,{name:"career_summary",label:"Career Summary",placeholder:"Short summary of work experience",component:qe})})}),e.jsxs("div",{className:"row mb-3",children:[e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"present_salary",label:"Present Salary",placeholder:"Enter current salary if employed",component:x})}),e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"expected_salary",label:"Expected Salary",placeholder:"Enter your expected salary",component:x})})]}),e.jsxs("div",{className:"row mb-3",children:[e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"expected_job_level",label:"Expected Job",placeholder:"e.g. Software Engineer, Business Analyst, etc.",component:x})}),e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"expected_job_nature",label:"Expected Job Nature",placeholder:"Full Time / Part Time / Contract",component:x})})]}),e.jsxs("div",{className:"row mb-3",children:[e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"preferred_job_location",label:"Preferred Job Location",placeholder:"e.g. Kampala",component:x})}),e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"preferred_job_category",label:"Select Preferred Job Category",placeholder:"e.g. IT, Finance, Marketing",options:D,component:z})})]}),e.jsxs("div",{className:"row mb-3",children:[e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"preferred_job_category_other",label:"Preferred Job Category (Other)",placeholder:"Enter if not listed above",component:x})}),e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"preferred_job_districts",label:"Preferred Job Districts",placeholder:"List any specific districts",component:x})})]}),e.jsxs("div",{className:"row mb-3",children:[e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"preferred_job_abroad",label:"Preferred Job Abroad",options:[{value:"Yes",label:"Yes"},{value:"No",label:"No"}],component:m=>e.jsx(X,{...m,radioClass:"form-check form-check-inline",onChange:C=>{m.form.setFieldValue(m.field.name,C.target.value),t(C.target.value==="Yes")}})})}),e.jsx(me,{mode:"wait",children:s&&e.jsx(u.div,{className:"col-md-6",variants:K,initial:"hidden",animate:"visible",exit:"exit",children:e.jsx(c,{name:"preferred_job_countries",label:"Preferred Job Countries",placeholder:"List countries if abroad is yes",component:x})})})]})]})})]})]}),e.jsxs("div",{className:"d-flex justify-content-between mt-5 border-top pt-4 mb-5 mb-lg-10",children:[e.jsx("button",{type:"button",className:"btn btn-outline-primary",onClick:()=>a("/admin/profile-edit/photo"),children:"← Back"}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsxs("button",{type:"submit",className:"btn btn-primary",onClick:()=>N("submitAction","save"),disabled:g,children:[e.jsx(je,{className:"me-2"}),g?"Saving...":"Save"]}),e.jsxs("button",{type:"submit",className:"btn btn-success",onClick:()=>N("submitAction","saveAndNext"),disabled:g,children:["Next Step",e.jsx(ge,{className:"ms-2"})]})]})]})]})})})})},Va={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.3}},exit:{opacity:0,y:-20}},Xa={hidden:{opacity:0,scale:.95},visible:{opacity:1,scale:1,transition:{duration:.2}}},Is=G().shape({companyName:k().required("Company Name is required"),companyBusiness:k().required("Company Business is required"),position:k().required("Designation/Position is required"),department:k().required("Department is required"),startDate:k().required("Employment start date is required"),responsibilities:k().required("Responsibilities are required"),employmentPeriod:k().required("Employment period is required"),stillEmployed:aa()}),Qa=n.memo(({employment:a,index:s,onEdit:t,onDelete:l})=>e.jsx(u.div,{variants:Va,initial:"hidden",animate:"visible",exit:"exit",layout:!0,children:e.jsxs(L,{className:"mb-3 hover-shadow transition-all",children:[e.jsxs(L.Header,{className:"d-flex justify-content-between align-items-center bg-light",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"mb-0 text-primary",children:a.position}),e.jsx("small",{className:"text-muted",children:a.companyName})]}),e.jsxs(M,{children:[e.jsx(M.Toggle,{variant:"link",className:"no-arrow p-0",children:e.jsx(u.div,{whileHover:{scale:1.1},children:e.jsx(U,{className:"text-muted fs-5"})})}),e.jsxs(M.Menu,{align:"end",children:[e.jsxs(M.Item,{onClick:t,children:[e.jsx(U,{className:"me-2"})," Edit"]}),e.jsxs(M.Item,{onClick:l,className:"text-danger",children:[e.jsx(ue,{className:"me-2"})," Delete"]})]})]})]}),e.jsxs(L.Body,{children:[e.jsxs(u.div,{layout:!0,className:"row g-2",children:[e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"text-muted small",children:"Company Business"}),e.jsx("p",{className:"mb-0",children:a.companyBusiness})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"text-muted small",children:"Department"}),e.jsx("p",{className:"mb-0",children:a.department})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"text-muted small",children:"Start Date"}),e.jsx("p",{className:"mb-0",children:a.startDate})]})]}),e.jsx(u.div,{layout:!0,className:"row g-2 mt-2",children:e.jsxs("div",{className:"col-md-12",children:[e.jsx("label",{className:"text-muted small",children:"Responsibilities"}),e.jsx("p",{className:"mb-0",children:a.responsibilities})]})}),e.jsxs(u.div,{layout:!0,className:"row g-2 mt-2",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"text-muted small",children:"Employment Period (in Years)"}),e.jsx("p",{className:"mb-0",children:a.employmentPeriod})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"text-muted small",children:"Still Employed?"}),e.jsx("p",{className:"mb-0",children:a.stillEmployed?"Yes":"No"})]})]})]})]})})),Za=()=>{const a=he(),{currentUser:s,setCurrentUser:t}=Z(),[l,i]=n.useState(!1),[r,o]=n.useState(null),[d,p]=n.useState(!1);if(!s)return R.error("User not found"),null;const h={employmentHistories:s!=null&&s.primary_school_name?JSON.parse(s.primary_school_name):[],submitAction:""},j=n.useCallback(async y=>{p(!0);try{const b={...s,primary_school_name:JSON.stringify(y.employmentHistories)},S=await xe("profile",b),D=te.fromJson(JSON.stringify(S));ae.saveProfile(D),R.success("Employment details updated successfully",{icon:e.jsx("span",{children:"✅"})}),y.submitAction==="saveAndNext"&&a("/admin/profile-edit/other-section")}catch{R.error("Failed to save employment details",{icon:e.jsx("span",{children:"❌"})})}finally{p(!1)}},[s,t,a]),f=n.useCallback((y,b)=>{R(e.jsxs(u.div,{initial:{opacity:0},animate:{opacity:1},className:"d-flex flex-column p-3",children:[e.jsx("h6",{className:"mb-3",children:"Delete this employment entry?"}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsx(P,{variant:"danger",size:"sm",onClick:()=>{b(y),R.dismiss()},children:"Delete"}),e.jsx(P,{variant:"outline-secondary",size:"sm",onClick:()=>R.dismiss(),children:"Cancel"})]})]}),{icon:e.jsx("span",{children:"⚠️"})})},[]);return e.jsx(Ie,{fluid:"lg",className:"py-4",children:e.jsx(W,{initialValues:h,validationSchema:G({employmentHistories:oe().of(Is)}),validateOnChange:!1,onSubmit:j,children:({values:y,setFieldValue:b})=>e.jsxs(fe,{children:[e.jsx(Q,{defaultActiveKey:"0",className:"shadow-sm rounded-3 overflow-hidden",children:e.jsxs(Q.Item,{eventKey:"0",children:[e.jsx("h2",{className:"accordion-header bg-light text-black fw-bold",children:e.jsx(Q.Button,{className:"bg-light text-black fw-bold text-gray-900",children:e.jsx("span",{className:"fs-1 fw-bolder text-primary",children:"Employment History"})})}),e.jsx(Q.Collapse,{eventKey:"0",children:e.jsxs(u.div,{initial:{opacity:0},animate:{opacity:1},className:"p-4",children:[e.jsx("div",{className:"d-flex justify-content-end mb-4",children:e.jsx(u.div,{whileHover:{scale:1.05},children:e.jsxs(P,{variant:"primary",onClick:()=>{o(null),i(!0)},children:[e.jsx(ce,{className:"me-2"})," Add Employment"]})})}),e.jsx(de,{name:"employmentHistories",children:({push:S,remove:D,replace:v})=>e.jsx(me,{mode:"popLayout",children:y.employmentHistories.map((I,$)=>e.jsx(Qa,{employment:I,index:$,onEdit:()=>{o($),i(!0)},onDelete:()=>f($,D)},I.id))})})]})})]})}),e.jsx(et,{show:l,onHide:()=>i(!1),onSubmit:S=>{r!==null?b(`employmentHistories[${r}]`,S):b("employmentHistories",[...y.employmentHistories,S]),i(!1)},initialValues:r!==null?y.employmentHistories[r]:null}),e.jsxs(u.div,{className:"d-flex justify-content-between mt-5 border-top pt-4",layout:!0,children:[e.jsx(u.div,{whileHover:{x:-5},children:e.jsx(P,{variant:"outline-primary",onClick:()=>a("/admin/profile-edit/education"),children:"← Back"})}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsx(u.div,{whileHover:{scale:1.05},children:e.jsxs(P,{type:"submit",variant:"primary",onClick:()=>b("submitAction","save"),disabled:d,children:[e.jsx(je,{className:"me-2"}),d?e.jsx("span",{className:"spinner-border spinner-border-sm"}):"Save"]})}),e.jsx(u.div,{whileHover:{scale:1.05},children:e.jsxs(P,{type:"submit",variant:"success",onClick:()=>b("submitAction","saveAndNext"),disabled:d,children:["Next Step",e.jsx(ge,{className:"ms-2"})]})})]})]})]})})})},et=n.memo(({show:a,onHide:s,onSubmit:t,initialValues:l})=>e.jsx(_,{show:a,onHide:s,centered:!0,size:"lg",children:e.jsx(u.div,{variants:Xa,initial:"hidden",animate:"visible",children:e.jsx(W,{initialValues:l||{id:Math.random().toString(36).substr(2,9),companyName:"",companyBusiness:"",position:"",department:"",startDate:"",responsibilities:"",employmentPeriod:"",stillEmployed:!1},validationSchema:Is,onSubmit:t,validateOnChange:!1,children:({handleSubmit:i,isValidating:r})=>e.jsxs(e.Fragment,{children:[e.jsx(_.Header,{closeButton:!0,className:"bg-light",children:e.jsx(_.Title,{className:"text-primary",children:l?"Edit Employment":"Add New Employment"})}),e.jsx(_.Body,{children:e.jsxs("div",{className:"row g-3",children:[e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"companyName",label:"Company Name",placeholder:"ABC Ltd.",component:x})}),e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"companyBusiness",label:"Company Business",placeholder:"Software, Retail, Consulting...",component:x})}),e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"position",label:"Position",placeholder:"e.g. Software Engineer",component:x})}),e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"department",label:"Department",placeholder:"e.g. IT",component:x})}),e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"startDate",label:"Start Date",component:Ae})}),e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"employmentPeriod",label:"Employment Period (in Years)",placeholder:"e.g. 2 Years",component:x})}),e.jsx("div",{className:"col-12",children:e.jsx(c,{name:"responsibilities",label:"Responsibilities",placeholder:"Your daily duties...",component:x,as:"textarea",rows:4})}),e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"form-check",children:[e.jsx(c,{type:"checkbox",name:"stillEmployed",className:"form-check-input",id:"stillEmployed"}),e.jsx("label",{className:"form-check-label",htmlFor:"stillEmployed",children:"Currently employed here"})]})})]})}),e.jsxs(_.Footer,{className:"border-0",children:[e.jsx(u.div,{whileHover:{scale:1.05},children:e.jsx(P,{variant:"outline-secondary",onClick:s,children:"Cancel"})}),e.jsx(u.div,{whileHover:{scale:1.05},children:e.jsx(P,{variant:"primary",onClick:()=>i(),disabled:r,children:l?"Save Changes":"Add Employment"})})]})]})})})})),st={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.3}},exit:{opacity:0,y:-20}},at={hidden:{opacity:0,scale:.95},visible:{opacity:1,scale:1,transition:{duration:.2}}},tt=[{value:"publication",label:"Publication"},{value:"award",label:"Award"},{value:"project",label:"Project"},{value:"other",label:"Other"}],_s=G().shape({type:k().required("Accomplishment type is required"),title:k().required("Title is required"),description:k().required("Description is required"),url:k().url("Must be a valid URL").nullable(),issueDate:k().required("Issue date is required")}),lt=n.memo(({accomplishment:a,index:s,onEdit:t,onDelete:l})=>e.jsx(u.div,{variants:st,initial:"hidden",animate:"visible",exit:"exit",layout:!0,children:e.jsxs(L,{className:"mb-3 hover-shadow transition-all",children:[e.jsxs(L.Header,{className:"d-flex justify-content-between align-items-center bg-light",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"mb-0 text-primary",children:a.title}),e.jsx("small",{className:"text-muted text-capitalize",children:a.type})]}),e.jsxs(M,{children:[e.jsx(M.Toggle,{variant:"link",className:"no-arrow p-0",children:e.jsx(u.div,{whileHover:{scale:1.1},children:e.jsx(U,{className:"text-muted fs-5"})})}),e.jsxs(M.Menu,{align:"end",children:[e.jsxs(M.Item,{onClick:t,children:[e.jsx(U,{className:"me-2"})," Edit"]}),e.jsxs(M.Item,{onClick:l,className:"text-danger",children:[e.jsx(ue,{className:"me-2"})," Delete"]})]})]})]}),e.jsxs(L.Body,{children:[e.jsxs(u.div,{layout:!0,className:"row g-2",children:[e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"text-muted small",children:"Issue Date"}),e.jsx("p",{className:"mb-0",children:a.issueDate})]}),e.jsxs("div",{className:"col-md-8",children:[e.jsx("label",{className:"text-muted small",children:"URL"}),e.jsx("p",{className:"mb-0",children:a.url?e.jsx("a",{href:a.url,target:"_blank",rel:"noopener noreferrer",children:a.url}):"N/A"})]})]}),e.jsxs(u.div,{layout:!0,className:"mt-3",children:[e.jsx("label",{className:"text-muted small",children:"Description"}),e.jsx("p",{className:"mb-0",children:a.description})]})]})]})})),it=()=>{const a=he(),{currentUser:s,setCurrentUser:t}=Z(),[l,i]=n.useState(!1),[r,o]=n.useState(null),[d,p]=n.useState(!1);if(!s)return R.error("User not found"),null;const h={accomplishments:s!=null&&s.school_pay_payment_code?JSON.parse(s.school_pay_payment_code):[],submitAction:""},j=n.useCallback(async y=>{p(!0);try{const b={...s,school_pay_payment_code:JSON.stringify(y.accomplishments)},S=await xe("profile",{school_pay_payment_code:JSON.stringify(y.accomplishments)}),D=te.fromJson(JSON.stringify(S));ae.saveProfile(D),R.success("Accomplishments updated successfully",{icon:e.jsx("span",{children:"✅"})}),y.submitAction==="saveAndNext"&&a("/admin/profile-edit/some-other-page")}catch{R.error("Failed to save accomplishments",{icon:e.jsx("span",{children:"❌"})})}finally{p(!1)}},[s,t,a]),f=n.useCallback((y,b)=>{R(e.jsxs(u.div,{initial:{opacity:0},animate:{opacity:1},className:"d-flex flex-column p-3",children:[e.jsx("h6",{className:"mb-3",children:"Delete this accomplishment?"}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsx(P,{variant:"danger",size:"sm",onClick:()=>{b(y),R.dismiss()},children:"Delete"}),e.jsx(P,{variant:"outline-secondary",size:"sm",onClick:()=>R.dismiss(),children:"Cancel"})]})]}),{icon:e.jsx("span",{children:"⚠️"})})},[]);return e.jsx(Ie,{fluid:"lg",className:"py-4",children:e.jsx(W,{initialValues:h,validationSchema:G({accomplishments:oe().of(_s)}),validateOnChange:!1,onSubmit:j,children:({values:y,setFieldValue:b})=>e.jsxs(fe,{children:[e.jsx(Q,{defaultActiveKey:"0",className:"shadow-sm rounded-3 overflow-hidden",children:e.jsxs(Q.Item,{eventKey:"0",children:[e.jsx("h2",{className:"accordion-header bg-light text-black fw-bold",children:e.jsx(Q.Button,{className:"bg-light text-black fw-bold text-gray-900",children:e.jsx("span",{className:"fs-1 fw-bolder text-primary",children:"Accomplishments & Achievements"})})}),e.jsx(Q.Collapse,{eventKey:"0",children:e.jsxs(u.div,{initial:{opacity:0},animate:{opacity:1},className:"p-4",children:[e.jsx("div",{className:"d-flex justify-content-end mb-4",children:e.jsx(u.div,{whileHover:{scale:1.05},children:e.jsxs(P,{variant:"primary",onClick:()=>{o(null),i(!0)},children:[e.jsx(ce,{className:"me-2"})," Add Accomplishment"]})})}),e.jsx(de,{name:"accomplishments",children:({push:S,remove:D,replace:v})=>e.jsx(me,{mode:"popLayout",children:y.accomplishments.map((I,$)=>e.jsx(lt,{accomplishment:I,index:$,onEdit:()=>{o($),i(!0)},onDelete:()=>f($,D)},I.id))})})]})})]})}),e.jsx(nt,{show:l,onHide:()=>i(!1),onSubmit:S=>{r!==null?b(`accomplishments[${r}]`,S):b("accomplishments",[...y.accomplishments,S]),i(!1)},initialValues:r!==null?y.accomplishments[r]:null}),e.jsxs(u.div,{className:"d-flex justify-content-between mt-5 border-top pt-4",layout:!0,children:[e.jsx(u.div,{whileHover:{x:-5},children:e.jsx(P,{variant:"outline-primary",onClick:()=>a("/admin/profile-edit/employment"),children:"← Back"})}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsx(u.div,{whileHover:{scale:1.05},children:e.jsxs(P,{type:"submit",variant:"primary",onClick:()=>b("submitAction","save"),disabled:d,children:[e.jsx(je,{className:"me-2"}),d?e.jsx("span",{className:"spinner-border spinner-border-sm"}):"Save"]})}),e.jsx(u.div,{whileHover:{scale:1.05},children:e.jsxs(P,{type:"submit",variant:"success",onClick:()=>a("/admin/my-cv"),disabled:d,children:["Finish",e.jsx(ta,{className:"ms-2"})]})})]})]})]})})})},nt=n.memo(({show:a,onHide:s,onSubmit:t,initialValues:l})=>e.jsx(_,{show:a,onHide:s,centered:!0,size:"lg",children:e.jsx(u.div,{variants:at,initial:"hidden",animate:"visible",children:e.jsx(W,{initialValues:l||{id:Math.random().toString(36).substr(2,9),type:"",title:"",description:"",url:"",issueDate:""},validationSchema:_s,onSubmit:t,validateOnChange:!1,children:({handleSubmit:i,isValidating:r})=>e.jsxs(e.Fragment,{children:[e.jsx(_.Header,{closeButton:!0,className:"bg-light",children:e.jsx(_.Title,{className:"text-primary",children:l?"Edit Accomplishment":"Add New Accomplishment"})}),e.jsx(_.Body,{children:e.jsxs("div",{className:"row g-3",children:[e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"type",label:"Type",component:o=>e.jsx(z,{...o,options:tt,placeholder:"Select type"})})}),e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"title",label:"Title",placeholder:"Best Research Paper 2023",component:x})}),e.jsx("div",{className:"col-12",children:e.jsx(c,{name:"description",label:"Description",placeholder:"Describe your accomplishment...",component:x,as:"textarea",rows:4})}),e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"url",label:"URL",placeholder:"https://example.com",component:x})}),e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"issueDate",label:"Issue Date",component:Ae})})]})}),e.jsxs(_.Footer,{className:"border-0",children:[e.jsx(u.div,{whileHover:{scale:1.05},children:e.jsx(P,{variant:"outline-secondary",onClick:s,children:"Cancel"})}),e.jsx(u.div,{whileHover:{scale:1.05},children:e.jsx(P,{variant:"primary",onClick:()=>i(),disabled:r,children:l?"Save Changes":"Add Accomplishment"})})]})]})})})})),rt=()=>{const a=he(),[s,t]=n.useState(""),[l,i]=n.useState(""),[r,o]=n.useState(!1),[d,p]=n.useState(null),{setCurrentUser:h}=Z(),{currentUser:j}=Z();if(!j)return null;const f=G().shape({first_name:k().required("First Name is required"),last_name:k().min(2).required("Last Name is required"),sex:k().required("Gender is required"),title:k().required("Title is required")}),y=v=>{v&&v.length>0&&p(v[0])},{getRootProps:b,getInputProps:S}=la({onDrop:y}),D=async(v,I)=>{t(""),i(""),o(!0);const $=v.submitAction||"save";try{if(!d){R.warn("Select a profile photo first.");return}const A=new FormData;Object.entries(v).forEach(([N,m])=>{A.append(N,m?m.toString():"")}),d&&A.append("profile_photo",d);const w=await xe("profile",A),g=te.fromJson(JSON.stringify(w));h(g),ae.saveProfile(g),i("Profile updated successfully"),R.success("Profile updated successfully"),$==="saveAndNext"&&a("/admin/profile-edit/bio")}catch(A){t("Failed: "+A),R.error("Profile update failed")}finally{o(!1),I.setSubmitting(!1)}};return e.jsx(W,{initialValues:j,validationSchema:f,onSubmit:D,children:({isSubmitting:v,setFieldValue:I})=>e.jsxs(fe,{children:[e.jsx(u.div,{className:"card-header bg-light text-black fw-bold ps-6",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3},children:e.jsx("h2",{className:"text-primary fs-1 fw-bolder mt-7 ps-0",children:"Personal Details"})}),r&&e.jsx(u.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999},children:e.jsx("div",{className:"spinner-border text-light",role:"status",children:e.jsx("span",{className:"visually-hidden",children:"Loading..."})})}),s&&e.jsxs(u.div,{className:"alert alert-danger alert-dismissible fade show",role:"alert",initial:{opacity:0},animate:{opacity:1},children:[s,e.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"alert","aria-label":"Close"})]}),l&&e.jsxs(u.div,{className:"alert alert-success alert-dismissible fade show",role:"alert",initial:{opacity:0},animate:{opacity:1},children:[l,e.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"alert","aria-label":"Close"})]}),j.avatar&&!j.avatar.toLowerCase().includes("user")&&e.jsx(u.div,{className:"d-flex justify-content-center mb-4 mt-5 mt-lg-10",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},children:e.jsx("img",{src:ae.img(j.avatar),alt:"avatar",style:{width:200,height:200,borderRadius:"10%"}})}),e.jsx(u.div,{className:"d-flex justify-content-center mb-4 mt-5 mt-lg-10",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},children:e.jsxs("div",{...b(),style:{width:200,height:200,border:"2px dashed #ccc",borderRadius:"8px",display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer",overflow:"hidden"},children:[e.jsx("input",{...S()}),d?e.jsx("img",{src:URL.createObjectURL(d),alt:"profile",style:{width:"100%",height:"100%",objectFit:"cover"}}):e.jsx("p",{className:"text-muted mb-0",children:e.jsx("span",{className:"ms-3 fs-6 fw-bold text-gray-700",children:j.avatar&&!j.avatar.toLowerCase().includes("user")?"Set profile photo":"Change profile photo"})})]})}),e.jsxs(u.div,{className:"d-flex justify-content-between mt-5 border-top pt-4 mb-5 mb-lg-10",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:[e.jsxs("button",{type:"button",className:"btn btn-outline-danger",onClick:()=>a("/admin/profile-edit/education"),children:[e.jsx(ia,{className:"me-2 text-danger"}),"Cancel"]}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsxs("button",{type:"submit",className:"btn btn-primary",onClick:()=>I("submitAction","save"),disabled:v,children:[e.jsx(je,{className:"me-2"}),v?"Saving...":"Save"]}),e.jsxs("button",{type:"submit",className:"btn btn-success",onClick:()=>I("submitAction","saveAndNext"),disabled:v,children:["Next Step ",e.jsx(ge,{className:"ms-2"})]})]})]})]})})},ut=()=>{const{currentUser:a}=Z(),[s,t]=n.useState(!1),l=na(),i=[{title:"Profile",path:"/admin/profile-edit/bio",isSeparator:!1,isActive:!1},{title:"",path:"",isSeparator:!0,isActive:!1}];return a?e.jsxs(Wa,{children:[e.jsx(ot,{currentUser:a,setIsLoading:t}),s&&e.jsx("div",{children:"Loading..."})," ",e.jsx(ra,{children:e.jsxs(se,{path:"/*",element:e.jsxs(e.Fragment,{children:[e.jsx(oa,{}),e.jsx(ca,{children:e.jsxs("div",{className:"stepper stepper-pills stepper-column d-flex flex-column flex-xl-row flex-row-fluid",children:[e.jsx("div",{className:"card d-none d-xl-flex justify-content-center justify-content-xl-start flex-row-auto w-100 w-xl-300px w-xxl-400px me-9",children:e.jsx("div",{className:"stepper stepper-pills stepper-column d-flex flex-column flex-xl-row flex-row-fluid",children:e.jsx("div",{className:"card d-flex justify-content-center justify-content-xl-start flex-row-auto w-100 w-xl-300px w-xxl-400px me-9",children:e.jsxs("div",{className:"card-body px-3 px-lg-10 py-10 py-lg-10",children:[e.jsx("div",{className:"d-flex flex-wrap flex-stack justify-content-center mb-5",children:e.jsxs("div",{className:"d-flex align-items-center w-200px w-sm-300px flex-column mt-3",children:[e.jsxs("div",{className:"d-flex justify-content-between w-100 mt-auto mb-2",children:[e.jsx("span",{className:"fw-bold fs-6 text-gray-500",children:"Profile Compleation"}),e.jsx("span",{className:"fw-bolder fs-6",children:"50%"})]}),e.jsx("div",{className:"h-5px mx-3 w-100 bg-light mb-3",children:e.jsx("div",{className:"bg-success rounded h-5px",role:"progressbar",style:{width:"50%"}})})]})}),e.jsx(ie,{className:"stepper-nav",to:"/admin/profile-edit/photo",children:e.jsxs("div",{className:`stepper-item ${l.pathname==="/admin/profile-edit/photo"?"current":""}`,"data-kt-stepper-element":"nav",children:[e.jsxs("div",{className:"stepper-wrapper",children:[e.jsxs("div",{className:"stepper-icon w-40px h-40px",children:[e.jsx("i",{className:"stepper-check fas fa-check"}),e.jsx("span",{className:"stepper-number",children:"1"})]}),e.jsxs("div",{className:"stepper-label",children:[e.jsx("h3",{className:`stepper-title ${l.pathname==="/admin/profile-edit/photo"?"text-primary fw-bolder":"fw-semibold text-muted"}`,children:"Profile Photo"}),e.jsx("div",{className:"stepper-desc fw-semibold",children:"Setup your profile photo and cover"})]})]}),e.jsx("div",{className:"stepper-line h-40px"})]})}),e.jsx(ie,{className:"stepper-nav",to:"/admin/profile-edit/bio",children:e.jsxs("div",{className:`stepper-item ${l.pathname==="/admin/profile-edit/bio"?"current":""}`,"data-kt-stepper-element":"nav",children:[e.jsxs("div",{className:"stepper-wrapper",children:[e.jsxs("div",{className:"stepper-icon w-40px h-40px",children:[e.jsx("i",{className:"stepper-check fas fa-check"}),e.jsx("span",{className:"stepper-number",children:"2"})]}),e.jsxs("div",{className:"stepper-label",children:[e.jsx("h3",{className:`stepper-title ${l.pathname==="/admin/profile-edit/bio"?"text-primary fw-bolder":"fw-semibold text-muted"}`,children:"Biodata"}),e.jsx("div",{className:"stepper-desc fw-semibold",children:"Setup your personal information"})]})]}),e.jsx("div",{className:"stepper-line h-40px"})]})}),e.jsx(ie,{to:"/admin/profile-edit/education",className:"stepper-nav",children:e.jsxs("div",{className:`stepper-item ${l.pathname==="/admin/profile-edit/education"?"current":""}`,"data-kt-stepper-element":"nav",children:[e.jsxs("div",{className:"stepper-wrapper",children:[e.jsxs("div",{className:"stepper-icon w-40px h-40px",children:[e.jsx("i",{className:"stepper-check fas fa-check"}),e.jsx("span",{className:"stepper-number",children:"3"})]}),e.jsxs("div",{className:"stepper-label",children:[e.jsx("h3",{className:`stepper-title ${l.pathname==="/admin/profile-edit/education"?"text-primary fw-bolder":"fw-semibold text-muted"}`,children:"Education & Training"}),e.jsx("div",{className:"stepper-desc fw-semibold",children:"Setup your personal information"})]})]}),e.jsx("div",{className:"stepper-line h-40px"})]})}),e.jsx(ie,{to:"/admin/profile-edit/employment",className:"stepper-nav",children:e.jsxs("div",{className:`stepper-item ${l.pathname==="/admin/profile-edit/employment"?"current":""}`,"data-kt-stepper-element":"nav",children:[e.jsxs("div",{className:"stepper-wrapper",children:[e.jsxs("div",{className:"stepper-icon w-40px h-40px",children:[e.jsx("i",{className:"stepper-check fas fa-check"}),e.jsx("span",{className:"stepper-number",children:"4"})]}),e.jsxs("div",{className:"stepper-label",children:[e.jsx("h3",{className:`stepper-title ${l.pathname==="/admin/profile-edit/employment"?"text-primary fw-bolder":"fw-semibold text-muted"}`,children:"Employment"}),e.jsx("div",{className:"stepper-desc fw-semibold",children:"Setup your employment history"})]})]}),e.jsx("div",{className:"stepper-line h-40px"})]})}),e.jsx(ie,{to:"/admin/profile-edit/accomplishment",className:"stepper-nav",children:e.jsx("div",{className:`stepper-item ${l.pathname==="/admin/profile-edit/accomplishment"?"current":""}`,"data-kt-stepper-element":"nav",children:e.jsxs("div",{className:"stepper-wrapper",children:[e.jsxs("div",{className:"stepper-icon w-40px h-40px",children:[e.jsx("i",{className:"stepper-check fas fa-check"}),e.jsx("span",{className:"stepper-number",children:"5"})]}),e.jsxs("div",{className:"stepper-label",children:[e.jsx("h3",{className:`stepper-title ${l.pathname==="/admin/profile-edit/accomplishment"?"text-primary fw-bolder":"fw-semibold text-muted"}`,children:"Accomplishments"}),e.jsx("div",{className:"stepper-desc fw-semibold",children:"Setup your accomplishments"})]})]})})})]})})})}),e.jsx("div",{className:"d-flex flex-row-fluid flex-s bg-body rounded w-100 w-xl-800px w-xxl-1000px d-flex flex-column card rounded",children:e.jsx(da,{})})]})})]}),children:[e.jsx(se,{path:"photo",element:e.jsxs(e.Fragment,{children:[e.jsx(ne,{breadcrumbs:i,children:"Profile Photo"}),e.jsx(rt,{})]})}),e.jsx(se,{path:"bio",element:e.jsxs(e.Fragment,{children:[e.jsx(ne,{breadcrumbs:i,children:"Personal Information"}),e.jsx(Ka,{})]})}),e.jsx(se,{path:"education",element:e.jsxs(e.Fragment,{children:[e.jsx(ne,{breadcrumbs:i,children:"Education"}),e.jsx(Ja,{})]})}),e.jsx(se,{path:"employment",element:e.jsxs(e.Fragment,{children:[e.jsx(ne,{breadcrumbs:i,children:"Employment"}),e.jsx(Za,{})]})}),e.jsx(se,{path:"accomplishment",element:e.jsxs(e.Fragment,{children:[e.jsx(ne,{breadcrumbs:i,children:"Accomplishment"}),e.jsx(it,{})]})}),e.jsx(se,{path:"",element:e.jsx(Be,{to:"photo",replace:!0})})]})})]}):e.jsx(Be,{to:"/login",replace:!0})},ot=({currentUser:a,setIsLoading:s})=>{const{setProfile:t}=Ga();return n.useEffect(()=>{(async()=>{s(!0);try{if(a){const i=te.fromJson(JSON.stringify(a));t(i)}}catch(i){console.error("Failed to initialize profile:",i)}finally{s(!1)}})()},[a,t,s]),null};export{ut as default};
