import{R as G,r as i,j as e,T as Rs,t as Os,c as I,s as Oe,E as qs,a as Bs,b as Hs,d as Fs,e as Ls,u as T,f as ae,g as Je,h as Js,i as Ye,k as Ys,l as zs,q as qe,m as Ks,n as ze,o as Us,p as Ws,v as K,w,x as b,F as z,y as ue,M,z as U,A as c,S as X,B as v,C as pe,D as Z,G as R,H as he,P as te,U as le,I as oe,J as xe,K as ce,L as de,N as fe,O as ye,Q as me,V as Ee,W as Gs,X as V,Y as Ce,Z as Vs,_ as Xs,$ as Qs,a0 as Zs,a1 as ea,a2 as Be,a3 as sa,a4 as se,a5 as aa,a6 as ta,a7 as ne,a8 as la,a9 as ie}from"./index-DAEQaZOH.js";import{u as Ke,a as na,m as ia,b as ra}from"./mergeOptionsWithPopperConfig-BAFzR_QD.js";function re(...a){return a.filter(s=>s!=null).reduce((s,t)=>{if(typeof t!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return s===null?t:function(...n){s.apply(this,n),t.apply(this,n)}},null)}const oa={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function ca(a,s){const t=`offset${a[0].toUpperCase()}${a.slice(1)}`,l=s[t],n=oa[a];return l+parseInt(Oe(s,n[0]),10)+parseInt(Oe(s,n[1]),10)}const da={[qs]:"collapse",[Bs]:"collapsing",[Hs]:"collapsing",[Fs]:"collapse show"},ma=G.forwardRef(({onEnter:a,onEntering:s,onEntered:t,onExit:l,onExiting:n,className:r,children:o,dimension:d="height",in:m=!1,timeout:u=300,mountOnEnter:p=!1,unmountOnExit:h=!1,appear:x=!1,getDimensionValue:y=ca,...C},S)=>{const f=typeof d=="function"?d():d,E=i.useMemo(()=>re(g=>{g.style[f]="0"},a),[f,a]),j=i.useMemo(()=>re(g=>{const k=`scroll${f[0].toUpperCase()}${f.slice(1)}`;g.style[f]=`${g[k]}px`},s),[f,s]),N=i.useMemo(()=>re(g=>{g.style[f]=null},t),[f,t]),P=i.useMemo(()=>re(g=>{g.style[f]=`${y(f,g)}px`,Ls(g)},l),[l,y,f]),A=i.useMemo(()=>re(g=>{g.style[f]=null},n),[f,n]);return e.jsx(Rs,{ref:S,addEndListener:Os,...C,"aria-expanded":C.role?m:null,onEnter:E,onEntering:j,onEntered:N,onExit:P,onExiting:A,childRef:o.ref,in:m,timeout:u,mountOnEnter:p,unmountOnExit:h,appear:x,children:(g,k)=>G.cloneElement(o,{...k,className:I(r,o.props.className,da[g],f==="width"&&"collapse-horizontal")})})});function Ue(a,s){return Array.isArray(a)?a.includes(s):a===s}const je=i.createContext({});je.displayName="AccordionContext";const Ae=i.forwardRef(({as:a="div",bsPrefix:s,className:t,children:l,eventKey:n,...r},o)=>{const{activeEventKey:d}=i.useContext(je);return s=T(s,"accordion-collapse"),e.jsx(ma,{ref:o,in:Ue(d,n),...r,className:I(t,s),children:e.jsx(a,{children:i.Children.only(l)})})});Ae.displayName="AccordionCollapse";const Ne=i.createContext({eventKey:""});Ne.displayName="AccordionItemContext";const We=i.forwardRef(({as:a="div",bsPrefix:s,className:t,onEnter:l,onEntering:n,onEntered:r,onExit:o,onExiting:d,onExited:m,...u},p)=>{s=T(s,"accordion-body");const{eventKey:h}=i.useContext(Ne);return e.jsx(Ae,{eventKey:h,onEnter:l,onEntering:n,onEntered:r,onExit:o,onExiting:d,onExited:m,children:e.jsx(a,{ref:p,...u,className:I(t,s)})})});We.displayName="AccordionBody";function ua(a,s){const{activeEventKey:t,onSelect:l,alwaysOpen:n}=i.useContext(je);return r=>{let o=a===t?null:a;n&&(Array.isArray(t)?t.includes(a)?o=t.filter(d=>d!==a):o=[...t,a]:o=[a]),l==null||l(o,r),s==null||s(r)}}const De=i.forwardRef(({as:a="button",bsPrefix:s,className:t,onClick:l,...n},r)=>{s=T(s,"accordion-button");const{eventKey:o}=i.useContext(Ne),d=ua(o,l),{activeEventKey:m}=i.useContext(je);return a==="button"&&(n.type="button"),e.jsx(a,{ref:r,onClick:d,...n,"aria-expanded":Array.isArray(m)?m.includes(o):o===m,className:I(t,s,!Ue(m,o)&&"collapsed")})});De.displayName="AccordionButton";const Ge=i.forwardRef(({as:a="h2",bsPrefix:s,className:t,children:l,onClick:n,...r},o)=>(s=T(s,"accordion-header"),e.jsx(a,{ref:o,...r,className:I(t,s),children:e.jsx(De,{onClick:n,children:l})})));Ge.displayName="AccordionHeader";const Ve=i.forwardRef(({as:a="div",bsPrefix:s,className:t,eventKey:l,...n},r)=>{s=T(s,"accordion-item");const o=i.useMemo(()=>({eventKey:l}),[l]);return e.jsx(Ne.Provider,{value:o,children:e.jsx(a,{ref:r,...n,className:I(t,s)})})});Ve.displayName="AccordionItem";const Xe=i.forwardRef((a,s)=>{const{as:t="div",activeKey:l,bsPrefix:n,className:r,onSelect:o,flush:d,alwaysOpen:m,...u}=Ke(a,{activeKey:"onSelect"}),p=T(n,"accordion"),h=i.useMemo(()=>({activeEventKey:l,onSelect:o,alwaysOpen:m}),[l,o,m]);return e.jsx(je.Provider,{value:h,children:e.jsx(t,{ref:s,...u,className:I(r,p,d&&`${p}-flush`)})})});Xe.displayName="Accordion";const Q=Object.assign(Xe,{Button:De,Collapse:Ae,Item:Ve,Header:Ge,Body:We});function pa(a,s,t,l=!1){const n=ae(t);i.useEffect(()=>{const r=typeof a=="function"?a():a;return r.addEventListener(s,n,l),()=>r.removeEventListener(s,n,l)},[a])}const ha=["as","disabled"];function xa(a,s){if(a==null)return{};var t={};for(var l in a)if({}.hasOwnProperty.call(a,l)){if(s.indexOf(l)>=0)continue;t[l]=a[l]}return t}function fa(a){return!a||a.trim()==="#"}function $e({tagName:a,disabled:s,href:t,target:l,rel:n,role:r,onClick:o,tabIndex:d=0,type:m}){a||(t!=null||l!=null||n!=null?a="a":a="button");const u={tagName:a};if(a==="button")return[{type:m||"button",disabled:s},u];const p=x=>{if((s||a==="a"&&fa(t))&&x.preventDefault(),s){x.stopPropagation();return}o==null||o(x)},h=x=>{x.key===" "&&(x.preventDefault(),p(x))};return a==="a"&&(t||(t="#"),s&&(t=void 0)),[{role:r??"button",disabled:void 0,tabIndex:s?void 0:d,href:t,target:a==="a"?l:void 0,"aria-disabled":s||void 0,rel:a==="a"?n:void 0,onClick:p,onKeyDown:h},u]}const Qe=i.forwardRef((a,s)=>{let{as:t,disabled:l}=a,n=xa(a,ha);const[r,{tagName:o}]=$e(Object.assign({tagName:t,disabled:l},n));return e.jsx(o,Object.assign({},n,r,{ref:s}))});Qe.displayName="Button";const ja=["onKeyDown"];function ba(a,s){if(a==null)return{};var t={};for(var l in a)if({}.hasOwnProperty.call(a,l)){if(s.indexOf(l)>=0)continue;t[l]=a[l]}return t}function va(a){return!a||a.trim()==="#"}const Ze=i.forwardRef((a,s)=>{let{onKeyDown:t}=a,l=ba(a,ja);const[n]=$e(Object.assign({tagName:"a"},l)),r=ae(o=>{n.onKeyDown(o),t==null||t(o)});return va(l.href)||l.role==="button"?e.jsx("a",Object.assign({ref:s},l,n,{onKeyDown:r})):e.jsx("a",Object.assign({ref:s},l,{onKeyDown:t}))});Ze.displayName="Anchor";const $=i.forwardRef(({as:a,bsPrefix:s,variant:t="primary",size:l,active:n=!1,disabled:r=!1,className:o,...d},m)=>{const u=T(s,"btn"),[p,{tagName:h}]=$e({tagName:a,disabled:r,...d}),x=h;return e.jsx(x,{...p,...d,ref:m,disabled:r,className:I(o,u,n&&"active",t&&`${u}-${t}`,l&&`${u}-${l}`,d.href&&r&&"disabled")})});$.displayName="Button";const Pe=i.forwardRef(({className:a,bsPrefix:s,as:t="div",...l},n)=>(s=T(s,"card-body"),e.jsx(t,{ref:n,className:I(a,s),...l})));Pe.displayName="CardBody";const es=i.forwardRef(({className:a,bsPrefix:s,as:t="div",...l},n)=>(s=T(s,"card-footer"),e.jsx(t,{ref:n,className:I(a,s),...l})));es.displayName="CardFooter";const ss=i.createContext(null);ss.displayName="CardHeaderContext";const as=i.forwardRef(({bsPrefix:a,className:s,as:t="div",...l},n)=>{const r=T(a,"card-header"),o=i.useMemo(()=>({cardHeaderBsPrefix:r}),[r]);return e.jsx(ss.Provider,{value:o,children:e.jsx(t,{ref:n,...l,className:I(s,r)})})});as.displayName="CardHeader";const ts=i.forwardRef(({bsPrefix:a,className:s,variant:t,as:l="img",...n},r)=>{const o=T(a,"card-img");return e.jsx(l,{ref:r,className:I(t?`${o}-${t}`:o,s),...n})});ts.displayName="CardImg";const ls=i.forwardRef(({className:a,bsPrefix:s,as:t="div",...l},n)=>(s=T(s,"card-img-overlay"),e.jsx(t,{ref:n,className:I(a,s),...l})));ls.displayName="CardImgOverlay";const ns=i.forwardRef(({className:a,bsPrefix:s,as:t="a",...l},n)=>(s=T(s,"card-link"),e.jsx(t,{ref:n,className:I(a,s),...l})));ns.displayName="CardLink";const ya=Je("h6"),is=i.forwardRef(({className:a,bsPrefix:s,as:t=ya,...l},n)=>(s=T(s,"card-subtitle"),e.jsx(t,{ref:n,className:I(a,s),...l})));is.displayName="CardSubtitle";const rs=i.forwardRef(({className:a,bsPrefix:s,as:t="p",...l},n)=>(s=T(s,"card-text"),e.jsx(t,{ref:n,className:I(a,s),...l})));rs.displayName="CardText";const Na=Je("h5"),os=i.forwardRef(({className:a,bsPrefix:s,as:t=Na,...l},n)=>(s=T(s,"card-title"),e.jsx(t,{ref:n,className:I(a,s),...l})));os.displayName="CardTitle";const cs=i.forwardRef(({bsPrefix:a,className:s,bg:t,text:l,border:n,body:r=!1,children:o,as:d="div",...m},u)=>{const p=T(a,"card");return e.jsx(d,{ref:u,...m,className:I(s,p,t&&`bg-${t}`,l&&`text-${l}`,n&&`border-${n}`),children:r?e.jsx(Pe,{children:o}):o})});cs.displayName="Card";const L=Object.assign(cs,{Img:ts,Title:os,Subtitle:is,Body:Pe,Link:ns,Text:rs,Header:as,Footer:es,ImgOverlay:ls}),Ie=i.forwardRef(({bsPrefix:a,fluid:s=!1,as:t="div",className:l,...n},r)=>{const o=T(a,"container"),d=typeof s=="string"?`-${s}`:"-fluid";return e.jsx(t,{ref:r,...n,className:I(l,s?`${o}${d}`:o)})});Ie.displayName="Container";function ga(a,s,t){const l=i.useRef(a!==void 0),[n,r]=i.useState(s),o=a!==void 0,d=l.current;return l.current=o,!o&&d&&n!==s&&r(s),[o?a:n,i.useCallback((...m)=>{const[u,...p]=m;let h=t==null?void 0:t(u,...p);return r(u),h},[t])]}function wa(){const[,a]=i.useReducer(s=>!s,!1);return a}const ge=i.createContext(null),Ca=["children","usePopper"];function Sa(a,s){if(a==null)return{};var t={};for(var l in a)if({}.hasOwnProperty.call(a,l)){if(s.indexOf(l)>=0)continue;t[l]=a[l]}return t}const ka=()=>{};function ds(a={}){const s=i.useContext(ge),[t,l]=Js(),n=i.useRef(!1),{flip:r,offset:o,rootCloseEvent:d,fixed:m=!1,placement:u,popperConfig:p={},enableEventListeners:h=!0,usePopper:x=!!s}=a,y=(s==null?void 0:s.show)==null?!!a.show:s.show;y&&!n.current&&(n.current=!0);const C=g=>{s==null||s.toggle(!1,g)},{placement:S,setMenu:f,menuElement:E,toggleElement:j}=s||{},N=na(j,E,ia({placement:u||S||"bottom-start",enabled:x,enableEvents:h??y,offset:o,flip:r,fixed:m,arrowElement:t,popperConfig:p})),P=Object.assign({ref:f||ka,"aria-labelledby":j==null?void 0:j.id},N.attributes.popper,{style:N.styles.popper}),A={show:y,placement:S,hasShown:n.current,toggle:s==null?void 0:s.toggle,popper:x?N:null,arrowProps:x?Object.assign({ref:l},N.attributes.arrow,{style:N.styles.arrow}):{}};return ra(E,C,{clickTrigger:d,disabled:!y}),[P,A]}function ms(a){let{children:s,usePopper:t=!0}=a,l=Sa(a,Ca);const[n,r]=ds(Object.assign({},l,{usePopper:t}));return e.jsx(e.Fragment,{children:s(n,r)})}ms.displayName="DropdownMenu";const ve={prefix:String(Math.round(Math.random()*1e10)),current:0},us=G.createContext(ve),Ea=G.createContext(!1);let Aa=!!(typeof window<"u"&&window.document&&window.document.createElement),Se=new WeakMap;function Da(a=!1){let s=i.useContext(us),t=i.useRef(null);if(t.current===null&&!a){var l,n;let r=(n=G.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||n===void 0||(l=n.ReactCurrentOwner)===null||l===void 0?void 0:l.current;if(r){let o=Se.get(r);o==null?Se.set(r,{id:s.current,state:r.memoizedState}):r.memoizedState!==o.state&&(s.current=o.id,Se.delete(r))}t.current=++s.current}return t.current}function $a(a){let s=i.useContext(us);s===ve&&!Aa&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let t=Da(!!a),l=`react-aria${s.prefix}`;return a||`${l}-${t}`}function Pa(a){let s=G.useId(),[t]=i.useState(Ra()),l=t?"react-aria":`react-aria${ve.prefix}`;return a||`${l}-${s}`}const Ia=typeof G.useId=="function"?Pa:$a;function Ma(){return!1}function _a(){return!0}function Ta(a){return()=>{}}function Ra(){return typeof G.useSyncExternalStore=="function"?G.useSyncExternalStore(Ta,Ma,_a):i.useContext(Ea)}const ps=a=>{var s;return((s=a.getAttribute("role"))==null?void 0:s.toLowerCase())==="menu"},He=()=>{};function hs(){const a=Ia(),{show:s=!1,toggle:t=He,setToggle:l,menuElement:n}=i.useContext(ge)||{},r=i.useCallback(d=>{t(!s,d)},[s,t]),o={id:a,ref:l||He,onClick:r,"aria-expanded":!!s};return n&&ps(n)&&(o["aria-haspopup"]=!0),[o,{show:s,toggle:t}]}function xs({children:a}){const[s,t]=hs();return e.jsx(e.Fragment,{children:a(s,t)})}xs.displayName="DropdownToggle";const ke=i.createContext(null),Fe=(a,s=null)=>a!=null?String(a):s||null,fs=i.createContext(null);fs.displayName="NavContext";const Oa=["eventKey","disabled","onClick","active","as"];function qa(a,s){if(a==null)return{};var t={};for(var l in a)if({}.hasOwnProperty.call(a,l)){if(s.indexOf(l)>=0)continue;t[l]=a[l]}return t}function js({key:a,href:s,active:t,disabled:l,onClick:n}){const r=i.useContext(ke),o=i.useContext(fs),{activeKey:d}=o||{},m=Fe(a,s),u=t==null&&a!=null?Fe(d)===m:t;return[{onClick:ae(h=>{l||(n==null||n(h),r&&!h.isPropagationStopped()&&r(m,h))}),"aria-disabled":l||void 0,"aria-selected":u,[Ye("dropdown-item")]:""},{isActive:u}]}const bs=i.forwardRef((a,s)=>{let{eventKey:t,disabled:l,onClick:n,active:r,as:o=Qe}=a,d=qa(a,Oa);const[m]=js({key:t,href:d.href,disabled:l,onClick:n,active:r});return e.jsx(o,Object.assign({},d,{ref:s},m))});bs.displayName="DropdownItem";function Le(){const a=wa(),s=i.useRef(null),t=i.useCallback(l=>{s.current=l,a()},[a]);return[s,t]}function be({defaultShow:a,show:s,onSelect:t,onToggle:l,itemSelector:n=`* [${Ye("dropdown-item")}]`,focusFirstItemOnShow:r,placement:o="bottom-start",children:d}){const m=Ys(),[u,p]=ga(s,a,l),[h,x]=Le(),y=h.current,[C,S]=Le(),f=C.current,E=zs(u),j=i.useRef(null),N=i.useRef(!1),P=i.useContext(ke),A=i.useCallback((q,B,F=B==null?void 0:B.type)=>{p(q,{originalEvent:B,source:F})},[p]),g=ae((q,B)=>{t==null||t(q,B),A(!1,B,"select"),B.isPropagationStopped()||P==null||P(q,B)}),k=i.useMemo(()=>({toggle:A,placement:o,show:u,menuElement:y,toggleElement:f,setMenu:x,setToggle:S}),[A,o,u,y,f,x,S]);y&&E&&!u&&(N.current=y.contains(y.ownerDocument.activeElement));const O=ae(()=>{f&&f.focus&&f.focus()}),D=ae(()=>{const q=j.current;let B=r;if(B==null&&(B=h.current&&ps(h.current)?"keyboard":!1),B===!1||B==="keyboard"&&!/^key.+$/.test(q))return;const F=qe(h.current,n)[0];F&&F.focus&&F.focus()});i.useEffect(()=>{u?D():N.current&&(N.current=!1,O())},[u,N,O,D]),i.useEffect(()=>{j.current=null});const H=(q,B)=>{if(!h.current)return null;const F=qe(h.current,n);let Y=F.indexOf(q)+B;return Y=Math.max(0,Math.min(Y,F.length)),F[Y]};return pa(i.useCallback(()=>m.document,[m]),"keydown",q=>{var B,F;const{key:Y}=q,ee=q.target,Te=(B=h.current)==null?void 0:B.contains(ee),Ts=(F=C.current)==null?void 0:F.contains(ee);if(/input|textarea/i.test(ee.tagName)&&(Y===" "||Y!=="Escape"&&Te||Y==="Escape"&&ee.type==="search")||!Te&&!Ts||Y==="Tab"&&(!h.current||!u))return;j.current=q.type;const we={originalEvent:q,source:q.type};switch(Y){case"ArrowUp":{const J=H(ee,-1);J&&J.focus&&J.focus(),q.preventDefault();return}case"ArrowDown":if(q.preventDefault(),!u)p(!0,we);else{const J=H(ee,1);J&&J.focus&&J.focus()}return;case"Tab":Ks(ee.ownerDocument,"keyup",J=>{var Re;(J.key==="Tab"&&!J.target||!((Re=h.current)!=null&&Re.contains(J.target)))&&p(!1,we)},{once:!0});break;case"Escape":Y==="Escape"&&(q.preventDefault(),q.stopPropagation()),p(!1,we);break}}),e.jsx(ke.Provider,{value:g,children:e.jsx(ge.Provider,{value:k,children:d})})}be.displayName="Dropdown";be.Menu=ms;be.Toggle=xs;be.Item=bs;const Me=i.createContext({});Me.displayName="DropdownContext";const vs=i.forwardRef(({className:a,bsPrefix:s,as:t="hr",role:l="separator",...n},r)=>(s=T(s,"dropdown-divider"),e.jsx(t,{ref:r,className:I(a,s),role:l,...n})));vs.displayName="DropdownDivider";const ys=i.forwardRef(({className:a,bsPrefix:s,as:t="div",role:l="heading",...n},r)=>(s=T(s,"dropdown-header"),e.jsx(t,{ref:r,className:I(a,s),role:l,...n})));ys.displayName="DropdownHeader";const Ns=i.forwardRef(({bsPrefix:a,className:s,eventKey:t,disabled:l=!1,onClick:n,active:r,as:o=Ze,...d},m)=>{const u=T(a,"dropdown-item"),[p,h]=js({key:t,href:d.href,disabled:l,onClick:n,active:r});return e.jsx(o,{...d,...p,ref:m,className:I(s,u,h.isActive&&"active",l&&"disabled")})});Ns.displayName="DropdownItem";const gs=i.forwardRef(({className:a,bsPrefix:s,as:t="span",...l},n)=>(s=T(s,"dropdown-item-text"),e.jsx(t,{ref:n,className:I(a,s),...l})));gs.displayName="DropdownItemText";const _e=i.createContext(null);_e.displayName="InputGroupContext";const ws=i.createContext(null);ws.displayName="NavbarContext";function Cs(a,s){return a}function Ss(a,s,t){const l=t?"top-end":"top-start",n=t?"top-start":"top-end",r=t?"bottom-end":"bottom-start",o=t?"bottom-start":"bottom-end",d=t?"right-start":"left-start",m=t?"right-end":"left-end",u=t?"left-start":"right-start",p=t?"left-end":"right-end";let h=a?o:r;return s==="up"?h=a?n:l:s==="end"?h=a?p:u:s==="start"?h=a?m:d:s==="down-centered"?h="bottom":s==="up-centered"&&(h="top"),h}const ks=i.forwardRef(({bsPrefix:a,className:s,align:t,rootCloseEvent:l,flip:n=!0,show:r,renderOnMount:o,as:d="div",popperConfig:m,variant:u,...p},h)=>{let x=!1;const y=i.useContext(ws),C=T(a,"dropdown-menu"),{align:S,drop:f,isRTL:E}=i.useContext(Me);t=t||S;const j=i.useContext(_e),N=[];if(t)if(typeof t=="object"){const q=Object.keys(t);if(q.length){const B=q[0],F=t[B];x=F==="start",N.push(`${C}-${B}-${F}`)}}else t==="end"&&(x=!0);const P=Ss(x,f,E),[A,{hasShown:g,popper:k,show:O,toggle:D}]=ds({flip:n,rootCloseEvent:l,show:r,usePopper:!y&&N.length===0,offset:[0,2],popperConfig:m,placement:P});if(A.ref=ze(Cs(h),A.ref),Us(()=>{O&&(k==null||k.update())},[O]),!g&&!o&&!j)return null;typeof d!="string"&&(A.show=O,A.close=()=>D==null?void 0:D(!1),A.align=t);let H=p.style;return k!=null&&k.placement&&(H={...p.style,...A.style},p["x-placement"]=k.placement),e.jsx(d,{...p,...A,style:H,...(N.length||y)&&{"data-bs-popper":"static"},className:I(s,C,O&&"show",x&&`${C}-end`,u&&`${C}-${u}`,...N)})});ks.displayName="DropdownMenu";const Es=i.forwardRef(({bsPrefix:a,split:s,className:t,childBsPrefix:l,as:n=$,...r},o)=>{const d=T(a,"dropdown-toggle"),m=i.useContext(ge);l!==void 0&&(r.bsPrefix=l);const[u]=hs();return u.ref=ze(u.ref,Cs(o)),e.jsx(n,{className:I(t,d,s&&`${d}-split`,(m==null?void 0:m.show)&&"show"),...u,...r})});Es.displayName="DropdownToggle";const As=i.forwardRef((a,s)=>{const{bsPrefix:t,drop:l="down",show:n,className:r,align:o="start",onSelect:d,onToggle:m,focusFirstItemOnShow:u,as:p="div",navbar:h,autoClose:x=!0,...y}=Ke(a,{show:"onToggle"}),C=i.useContext(_e),S=T(t,"dropdown"),f=Ws(),E=k=>x===!1?k==="click":x==="inside"?k!=="rootClose":x==="outside"?k!=="select":!0,j=ae((k,O)=>{var D;!((D=O.originalEvent)==null||(D=D.target)==null)&&D.classList.contains("dropdown-toggle")&&O.source==="mousedown"||(O.originalEvent.currentTarget===document&&(O.source!=="keydown"||O.originalEvent.key==="Escape")&&(O.source="rootClose"),E(O.source)&&(m==null||m(k,O)))}),P=Ss(o==="end",l,f),A=i.useMemo(()=>({align:o,drop:l,isRTL:f}),[o,l,f]),g={down:S,"down-centered":`${S}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return e.jsx(Me.Provider,{value:A,children:e.jsx(be,{placement:P,show:n,onSelect:d,onToggle:j,focusFirstItemOnShow:u,itemSelector:`.${S}-item:not(.disabled):not(:disabled)`,children:C?y.children:e.jsx(p,{...y,ref:s,className:I(r,n&&"show",g[l])})})})});As.displayName="Dropdown";const _=Object.assign(As,{Toggle:Es,Menu:ks,Item:Ns,ItemText:gs,Divider:vs,Header:ys}),Ba=[{value:"primary",label:"Primary School"},{value:"secondary",label:"Secondary School"},{value:"bachelor",label:"Bachelor's Degree"},{value:"master",label:"Master's Degree"},{value:"doctorate",label:"Doctorate"},{value:"diploma",label:"Diploma"},{value:"certificate",label:"Certificate"}],Ds=K().shape({education_level:w().required("Education level is required"),major:w().required("Major/Concentration is required"),institution:w().required("Institution name is required"),duration:w().required("Duration is required"),graduation_year:w().required("Graduation year is required").matches(/^\d{4}$/,"Must be a valid year"),result:w().required("Result is required")}),$s=K().shape({training_title:w().required("Training title is required"),provider:w().required("Provider is required"),year:w().required("Year is required").matches(/^\d{4}$/,"Must be valid year"),remarks:w().nullable()}),Ps=K().shape({certificate_title:w().required("Certificate title is required"),issuing_authority:w().required("Issuing authority is required"),date_issued:w().required("Date issued is required"),certificate_id:w().nullable()}),Ha=i.memo(({academic:a,onEdit:s,onDelete:t})=>e.jsx(b.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3},children:e.jsxs(L,{className:"mb-3 hover-shadow",children:[e.jsxs(L.Header,{className:"d-flex justify-content-between align-items-center bg-light",children:[e.jsxs("div",{children:[e.jsxs("h5",{className:"mb-0 text-primary",children:[a.education_level," - ",a.major]}),e.jsx("small",{className:"text-muted",children:a.institution})]}),e.jsxs(_,{children:[e.jsx(_.Toggle,{variant:"link",className:"no-arrow",children:e.jsx(z,{className:"text-muted"})}),e.jsxs(_.Menu,{align:"end",children:[e.jsxs(_.Item,{onClick:s,children:[e.jsx(z,{className:"me-2"})," Edit"]}),e.jsxs(_.Item,{onClick:t,className:"text-danger",children:[e.jsx(ue,{className:"me-2"})," Delete"]})]})]})]}),e.jsx(L.Body,{children:e.jsxs("div",{className:"row g-2",children:[e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"text-muted small",children:"Duration"}),e.jsx("p",{className:"mb-0",children:a.duration})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"text-muted small",children:"Graduation Year"}),e.jsx("p",{className:"mb-0",children:a.graduation_year})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"text-muted small",children:"Result"}),e.jsx("p",{className:"mb-0",children:a.result})]})]})})]})})),Fa=i.memo(({training:a,onEdit:s,onDelete:t})=>e.jsx(b.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3},children:e.jsxs(L,{className:"mb-3 hover-shadow",children:[e.jsxs(L.Header,{className:"d-flex justify-content-between align-items-center bg-light",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"mb-0 text-primary",children:a.training_title}),e.jsx("small",{className:"text-muted",children:a.provider})]}),e.jsxs(_,{children:[e.jsx(_.Toggle,{variant:"link",className:"no-arrow",children:e.jsx(z,{className:"text-muted"})}),e.jsxs(_.Menu,{align:"end",children:[e.jsxs(_.Item,{onClick:s,children:[e.jsx(z,{className:"me-2"})," Edit"]}),e.jsxs(_.Item,{onClick:t,className:"text-danger",children:[e.jsx(ue,{className:"me-2"})," Delete"]})]})]})]}),e.jsx(L.Body,{children:e.jsxs("div",{className:"row g-2",children:[e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"text-muted small",children:"Year"}),e.jsx("p",{className:"mb-0",children:a.year})]}),e.jsxs("div",{className:"col-md-8",children:[e.jsx("label",{className:"text-muted small",children:"Remarks"}),e.jsx("p",{className:"mb-0",children:a.remarks||"N/A"})]})]})})]})})),La=i.memo(({certificate:a,onEdit:s,onDelete:t})=>e.jsx(b.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3},children:e.jsxs(L,{className:"mb-3 hover-shadow",children:[e.jsxs(L.Header,{className:"d-flex justify-content-between align-items-center bg-light",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"mb-0 text-primary",children:a.certificate_title}),e.jsx("small",{className:"text-muted",children:a.issuing_authority})]}),e.jsxs(_,{children:[e.jsx(_.Toggle,{variant:"link",className:"no-arrow",children:e.jsx(z,{className:"text-muted"})}),e.jsxs(_.Menu,{align:"end",children:[e.jsxs(_.Item,{onClick:s,children:[e.jsx(z,{className:"me-2"})," Edit"]}),e.jsxs(_.Item,{onClick:t,className:"text-danger",children:[e.jsx(ue,{className:"me-2"})," Delete"]})]})]})]}),e.jsx(L.Body,{children:e.jsxs("div",{className:"row g-2",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"text-muted small",children:"Date Issued"}),e.jsx("p",{className:"mb-0",children:a.date_issued})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"text-muted small",children:"Certificate ID"}),e.jsx("p",{className:"mb-0",children:a.certificate_id||"N/A"})]})]})})]})})),Ja=()=>{const a=pe(),{currentUser:s,setCurrentUser:t}=Z(),[l,n]=i.useState(!1),[r,o]=i.useState(!1),[d,m]=i.useState(!1),[u,p]=i.useState(null),[h,x]=i.useState(null),[y,C]=i.useState(null),[S,f]=i.useState(!1);if(!s)return R.error("User not found"),null;const E={academics:s!=null&&s.degree_university_name?JSON.parse(s.degree_university_name):[],trainings:s!=null&&s.high_school_name?JSON.parse(s.high_school_name):[],certifications:s!=null&&s.seconday_school_name?JSON.parse(s.seconday_school_name):[],submitAction:""},j=i.useCallback(async P=>{f(!0);try{const A={...s,degree_university_name:JSON.stringify(P.academics),high_school_name:JSON.stringify(P.trainings),seconday_school_name:JSON.stringify(P.certifications)},g=await he("profile",A),k=te.fromJson(JSON.stringify(g));le.saveProfile(k),R.success("Profile updated successfully",{icon:e.jsx("span",{children:"✅"})}),P.submitAction==="saveAndNext"&&(t(k),a("/admin/profile-edit/employment"))}catch{R.error("Failed to save profile updates",{icon:e.jsx("span",{children:"❌"})})}finally{f(!1)}},[s,t,a]),N=i.useCallback((P,A,g)=>{R(e.jsxs("div",{children:[e.jsxs("p",{children:["Delete this ",g," entry?"]}),e.jsxs("div",{className:"d-flex gap-2 mt-2",children:[e.jsx("button",{className:"btn btn-danger btn-sm",onClick:()=>{A(P),R.dismiss()},children:"Delete"}),e.jsx("button",{className:"btn btn-secondary btn-sm",onClick:()=>R.dismiss(),children:"Cancel"})]})]}),{icon:e.jsx("span",{children:"⚠️"})})},[]);return e.jsx(U,{initialValues:E,validateOnChange:!1,validationSchema:K({academics:oe().of(Ds),trainings:oe().of($s),certifications:oe().of(Ps)}),onSubmit:j,children:({values:P,setFieldValue:A})=>e.jsxs(xe,{children:[e.jsxs("div",{className:"accordion",id:"eduAccordion",children:[e.jsxs(b.div,{className:"accordion-item",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3},children:[e.jsx("h2",{className:"accordion-header bg-light text-black fw-bold",id:"academicsHeading",children:e.jsx("button",{className:"accordion-button bg-light text-black fw-bold text-gray-900",type:"button","data-bs-toggle":"collapse","data-bs-target":"#academicsCollapse","aria-expanded":"true","aria-controls":"academicsCollapse",children:e.jsx("span",{className:"fs-1 fw-bolder text-primary",children:"Academic Qualifications"})})}),e.jsx("div",{id:"academicsCollapse",className:"accordion-collapse collapse show","aria-labelledby":"academicsHeading","data-bs-parent":"#eduAccordion",children:e.jsxs("div",{className:"accordion-body",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[e.jsx("span",{className:"fw-bold",children:"List of Academic Entries"}),e.jsxs($,{variant:"primary",size:"sm",onClick:()=>{p(null),n(!0)},children:[e.jsx(ce,{className:"me-2"})," Add Entry"]})]}),e.jsx(de,{name:"academics",children:({push:g,remove:k,replace:O})=>e.jsxs(e.Fragment,{children:[P.academics.map((D,H)=>e.jsx(Ha,{academic:D,onEdit:()=>{p(H),n(!0)},onDelete:()=>N(H,k,"academic")},D.id)),e.jsx(Ya,{show:l,onHide:()=>n(!1),onSubmit:D=>{u!==null?O(u,D):g(D),n(!1)},initialValues:u!==null?P.academics[u]:null})]})})]})})]}),e.jsxs(b.div,{className:"accordion-item",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},children:[e.jsx("h2",{className:"accordion-header bg-light text-black fw-bold",id:"trainingHeading",children:e.jsx("button",{className:"accordion-button bg-light text-black fw-bold text-gray-900 collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#trainingCollapse","aria-expanded":"false","aria-controls":"trainingCollapse",children:e.jsx("span",{className:"fs-1 fw-bolder text-primary",children:"Trainings"})})}),e.jsx("div",{id:"trainingCollapse",className:"accordion-collapse collapse","aria-labelledby":"trainingHeading","data-bs-parent":"#eduAccordion",children:e.jsxs("div",{className:"accordion-body",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[e.jsx("span",{className:"fw-bold",children:"List of Trainings"}),e.jsxs($,{variant:"primary",size:"sm",onClick:()=>{x(null),o(!0)},children:[e.jsx(ce,{className:"me-2"})," Add Training"]})]}),e.jsx(de,{name:"trainings",children:({push:g,remove:k,replace:O})=>e.jsxs(e.Fragment,{children:[P.trainings.map((D,H)=>e.jsx(Fa,{training:D,onEdit:()=>{x(H),o(!0)},onDelete:()=>N(H,k,"training")},D.id)),e.jsx(za,{show:r,onHide:()=>o(!1),onSubmit:D=>{h!==null?O(h,D):g(D),o(!1)},initialValues:h!==null?P.trainings[h]:null})]})})]})})]}),e.jsxs(b.div,{className:"accordion-item",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.2},children:[e.jsx("h2",{className:"accordion-header bg-light text-black fw-bold",id:"certHeading",children:e.jsx("button",{className:"accordion-button bg-light text-black fw-bold text-gray-900 collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#certCollapse","aria-expanded":"false","aria-controls":"certCollapse",children:e.jsx("span",{className:"fs-1 fw-bolder text-primary",children:"Professional Certificates"})})}),e.jsx("div",{id:"certCollapse",className:"accordion-collapse collapse","aria-labelledby":"certHeading","data-bs-parent":"#eduAccordion",children:e.jsxs("div",{className:"accordion-body",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[e.jsx("span",{className:"fw-bold",children:"List of Certificates"}),e.jsxs($,{variant:"primary",size:"sm",onClick:()=>{C(null),m(!0)},children:[e.jsx(ce,{className:"me-2"})," Add Certificate"]})]}),e.jsx(de,{name:"certifications",children:({push:g,remove:k,replace:O})=>e.jsxs(e.Fragment,{children:[P.certifications.map((D,H)=>e.jsx(La,{certificate:D,onEdit:()=>{C(H),m(!0)},onDelete:()=>N(H,k,"certificate")},D.id)),e.jsx(Ka,{show:d,onHide:()=>m(!1),onSubmit:D=>{y!==null?O(y,D):g(D),m(!1)},initialValues:y!==null?P.certifications[y]:null})]})})]})})]})]}),e.jsxs("div",{className:"d-flex justify-content-between mt-5 border-top pt-4 mb-4 pe-5 ps-0",children:[e.jsx("button",{type:"button",className:"btn btn-outline-primary",onClick:()=>a("/admin/profile-edit/bio"),children:"← Back"}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsxs("button",{type:"submit",className:"btn btn-primary",onClick:()=>A("submitAction","save"),disabled:S,children:[e.jsx(fe,{className:"me-2"}),S?"Saving...":"Save"]}),e.jsxs("button",{type:"submit",className:"btn btn-success",onClick:()=>A("submitAction","saveAndNext"),disabled:S,children:["Next Step",e.jsx(ye,{className:"ms-2"})]})]})]})]})})},Ya=i.memo(({show:a,onHide:s,onSubmit:t,initialValues:l})=>e.jsx(M,{show:a,onHide:s,centered:!0,size:"lg",children:e.jsx(U,{initialValues:l||{id:Math.random().toString(36).substr(2,9),education_level:"",major:"",institution:"",duration:"",graduation_year:"",result:""},validationSchema:Ds,onSubmit:t,validateOnChange:!1,children:({handleSubmit:n,isValidating:r})=>e.jsxs(e.Fragment,{children:[e.jsx(M.Header,{closeButton:!0,className:"bg-light",children:e.jsx(M.Title,{children:l?"Edit Education":"Add New Education"})}),e.jsx(M.Body,{children:e.jsxs("div",{className:"row g-3",children:[e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"education_level",label:"Education Level",component:o=>e.jsx(X,{...o,options:Ba,placeholder:"Select"})})}),e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"major",label:"Major/Concentration",placeholder:"e.g. Computer Science",component:v})}),e.jsx("div",{className:"col-md-12",children:e.jsx(c,{name:"institution",label:"Institution Name",placeholder:"University of Example",component:v})}),e.jsx("div",{className:"col-md-4",children:e.jsx(c,{name:"duration",label:"Duration",placeholder:"e.g. 4 years",component:v})}),e.jsx("div",{className:"col-md-4",children:e.jsx(c,{name:"graduation_year",label:"Graduation Year",placeholder:"2020",component:v})}),e.jsx("div",{className:"col-md-4",children:e.jsx(c,{name:"result",label:"Result",placeholder:"e.g. GPA 3.8",component:v})})]})}),e.jsxs(M.Footer,{className:"border-0",children:[e.jsx($,{variant:"secondary",onClick:s,children:"Cancel"}),e.jsx($,{variant:"primary",onClick:()=>n(),disabled:r,children:l?"Save Changes":"Add Education"})]})]})})})),za=i.memo(({show:a,onHide:s,onSubmit:t,initialValues:l})=>e.jsx(M,{show:a,onHide:s,centered:!0,size:"lg",children:e.jsx(U,{initialValues:l||{id:Math.random().toString(36).substr(2,9),training_title:"",provider:"",year:"",remarks:""},validationSchema:$s,onSubmit:t,validateOnChange:!1,children:({handleSubmit:n,isValidating:r})=>e.jsxs(e.Fragment,{children:[e.jsx(M.Header,{closeButton:!0,className:"bg-light",children:e.jsx(M.Title,{children:l?"Edit Training":"Add New Training"})}),e.jsx(M.Body,{children:e.jsxs("div",{className:"row g-3",children:[e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"training_title",label:"Training Title",placeholder:"e.g. Project Management",component:v})}),e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"provider",label:"Provider",placeholder:"e.g. ABC Institute",component:v})}),e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"year",label:"Year",placeholder:"2021",component:v})}),e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"remarks",label:"Remarks",placeholder:"Any relevant notes...",component:v})})]})}),e.jsxs(M.Footer,{className:"border-0",children:[e.jsx($,{variant:"secondary",onClick:s,children:"Cancel"}),e.jsx($,{variant:"primary",onClick:()=>n(),disabled:r,children:l?"Save Changes":"Add Training"})]})]})})})),Ka=i.memo(({show:a,onHide:s,onSubmit:t,initialValues:l})=>e.jsx(M,{show:a,onHide:s,centered:!0,size:"lg",children:e.jsx(U,{initialValues:l||{id:Math.random().toString(36).substr(2,9),certificate_title:"",issuing_authority:"",date_issued:"",certificate_id:""},validationSchema:Ps,onSubmit:t,validateOnChange:!1,children:({handleSubmit:n,isValidating:r})=>e.jsxs(e.Fragment,{children:[e.jsx(M.Header,{closeButton:!0,className:"bg-light",children:e.jsx(M.Title,{children:l?"Edit Certificate":"Add New Certificate"})}),e.jsx(M.Body,{children:e.jsxs("div",{className:"row g-3",children:[e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"certificate_title",label:"Certificate Title",placeholder:"e.g. Certified Network Admin",component:v})}),e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"issuing_authority",label:"Issuing Authority",placeholder:"e.g. Cisco",component:v})}),e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"date_issued",label:"Date Issued",placeholder:"2022-05-10",component:v})}),e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"certificate_id",label:"Certificate ID",placeholder:"Optional",component:v})})]})}),e.jsxs(M.Footer,{className:"border-0",children:[e.jsx($,{variant:"secondary",onClick:s,children:"Cancel"}),e.jsx($,{variant:"primary",onClick:()=>n(),disabled:r,children:l?"Save Changes":"Add Certificate"})]})]})})})),Is=i.createContext(void 0),Ua=()=>{const a=i.useContext(Is);if(!a)throw new Error("useProfileEdit must be used within a ProfileEditProvider");return a},Wa=({children:a})=>{const[s,t]=i.useState(new te);return e.jsx(Is.Provider,{value:{profile:s,setProfile:t},children:a})},W={hidden:{opacity:0,y:10},visible:{opacity:1,y:0,transition:{duration:.3}},exit:{opacity:0,y:10}},Ga=()=>{const a=pe(),[s,t]=i.useState(!1),[l,n]=i.useState(!1),[r,o]=i.useState(""),[d,m]=i.useState(""),[u,p]=i.useState(!1),{setCurrentUser:h}=Z(),{currentUser:x}=Z();if(!x)return alert("User not found"),null;const y=K().shape({first_name:w().required("First Name is required"),last_name:w().min(2,"Last Name must be at least 2 characters").required("Last Name is required"),sex:w().required("Gender is required"),title:w().required("Title is required")}),C=async(S,f)=>{o(""),m(""),p(!0);const E=(S==null?void 0:S.submitAction)||"save";try{const j=await he("profile",S),N=te.fromJson(JSON.stringify(j));h(N),le.saveProfile(N),m("Profile updated successfully"),R.success("Profile updated successfully"),E==="saveAndNext"&&a("/admin/profile-edit/education")}catch(j){o("Failed: "+j),R.error("Profile update failed"),f.setSubmitting(!1)}finally{p(!1),f.setSubmitting(!1)}};return e.jsx(U,{initialValues:x,validationSchema:y,onSubmit:C,children:({values:S,isSubmitting:f,setFieldValue:E})=>e.jsx(me,{mode:"wait",children:e.jsx(b.div,{variants:W,initial:"hidden",animate:"visible",exit:"exit",children:e.jsxs(xe,{children:[u&&e.jsx(b.div,{className:"position-absolute top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center bg-dark bg-opacity-50",variants:W,initial:"hidden",animate:"visible",exit:"exit",style:{zIndex:9999},children:e.jsx("div",{className:"spinner-border text-light",role:"status",children:e.jsx("span",{className:"visually-hidden",children:"Loading..."})})}),r&&e.jsxs(b.div,{className:"alert alert-danger alert-dismissible fade show",role:"alert",variants:W,initial:"hidden",animate:"visible",exit:"exit",children:[r,e.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"alert","aria-label":"Close"})]}),d&&e.jsxs(b.div,{className:"alert alert-success alert-dismissible fade show",role:"alert",variants:W,initial:"hidden",animate:"visible",exit:"exit",children:[d,e.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"alert","aria-label":"Close"})]}),e.jsxs("div",{className:"accordion",id:"profileEditAccordion",children:[e.jsxs(b.div,{className:"accordion-item",variants:W,initial:"hidden",animate:"visible",exit:"exit",children:[e.jsx("h2",{className:"accordion-header bg-light text-black fw-bold",id:"headingOne",children:e.jsx("button",{className:"accordion-button bg-light text-black fw-bold text-gray-900",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseOne","aria-expanded":"true","aria-controls":"collapseOne",children:e.jsx("span",{className:"fs-1 fw-bolder text-primary",children:"Personal Details"})})}),e.jsx("div",{id:"collapseOne",className:"accordion-collapse collapse show","aria-labelledby":"headingOne","data-bs-parent":"#profileEditAccordion",children:e.jsxs("div",{className:"accordion-body",children:[e.jsxs("div",{className:"row mb-3",children:[e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"title",label:"Title",options:[{value:"Mr",label:"Mr"},{value:"Mrs",label:"Mrs"},{value:"Miss",label:"Miss"},{value:"Ms",label:"Ms"},{value:"Dr",label:"Dr"},{value:"Prof",label:"Prof"},{value:"Rev",label:"Rev"},{value:"Hon",label:"Hon"}],component:X})}),e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"first_name",label:e.jsxs(e.Fragment,{children:["First Name"," ",e.jsx("span",{className:"text-danger",children:"*"})]}),placeholder:"Enter First Name",component:v})})]}),e.jsxs("div",{className:"row mb-3",children:[e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"last_name",label:"Last Name",placeholder:"Enter Last Name",component:v})}),e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"sex",label:"Gender",options:[{value:"Male",label:"Male"},{value:"Female",label:"Female"},{value:"Other",label:"Other"}],component:j=>e.jsx(X,{...j})})})]}),e.jsxs("div",{className:"row mb-3",children:[e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"father_name",label:"Father's Name",placeholder:"Enter Father's Name",component:v})}),e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"mother_name",label:"Mother's Name",placeholder:"Enter Mother's Name",component:v})})]}),e.jsxs("div",{className:"row mb-3",children:[e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"date_of_birth",label:"Date of Birth",component:Ee})}),e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"religion",label:"Religion",options:[{value:"Islam",label:"Islam"},{value:"Christian",label:"Christian"},{value:"Hindu",label:"Hindu"},{value:"Other",label:"Other"}],component:X})})]}),e.jsxs("div",{className:"row mb-3",children:[e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"marital_status",label:"Marital Status",options:[{value:"Single",label:"Single"},{value:"Married",label:"Married"},{value:"Divorced",label:"Divorced"},{value:"Widowed",label:"Widowed"}],component:X})}),e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"nationality",label:"Nationality",options:Gs,component:X})})]}),e.jsxs("div",{className:"row mb-3",children:[e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"languages",label:"Languages",placeholder:"e.g. English, Swahili",component:v})}),e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"blood_group",label:"Blood Group",options:[{value:"A+",label:"A+"},{value:"A-",label:"A-"},{value:"B+",label:"B+"},{value:"B-",label:"B-"},{value:"O+",label:"O+"},{value:"O-",label:"O-"},{value:"AB+",label:"AB+"},{value:"AB-",label:"AB-"}],component:X})})]}),e.jsxs("div",{className:"row mb-3",children:[e.jsx("div",{className:"col-md-4",children:e.jsx(c,{name:"height",label:"Height",placeholder:"e.g. 170 cm",component:v})}),e.jsx("div",{className:"col-md-4",children:e.jsx(c,{name:"weight",label:"Weight",placeholder:"e.g. 65 kg",component:v})}),e.jsx("div",{className:"col-md-4",children:e.jsx(c,{name:"has_disability",label:"Do you have a disability?",options:[{value:"Yes",label:"Yes"},{value:"No",label:"No"}],component:j=>e.jsx(V,{...j,radioClass:"form-check form-check-inline",onChange:N=>{j.form.setFieldValue(j.field.name,N.target.value),n(N.target.value==="Yes")}})})})]}),e.jsx(me,{mode:"wait",children:l&&e.jsxs(b.div,{variants:W,initial:"hidden",animate:"visible",exit:"exit",children:[e.jsxs("div",{className:"row mb-3",children:[e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"is_registered_on_disability",label:"Are you registered on ict4personswithdisabilities.org?",options:[{value:"Yes",label:"Yes"},{value:"No",label:"No"}],component:j=>e.jsx(V,{...j,radioClass:"form-check form-check-inline"})})}),e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"disability_type",label:"Disability Type",placeholder:"Enter Disability Type",component:v})})]}),e.jsx("div",{className:"row mb-3",children:e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"dificulty_display_on_cv",label:"Display Difficulty on CV",options:[{value:"Yes",label:"Yes"},{value:"No",label:"No"}],component:j=>e.jsx(V,{...j,radioClass:"form-check form-check-inline"})})})}),e.jsxs("div",{className:"row mb-3",children:[e.jsx("div",{className:"col-md-3",children:e.jsx(c,{name:"dificulty_to_see",label:"Difficulty to See",options:[{value:"Yes",label:"Yes"},{value:"No",label:"No"}],component:j=>e.jsx(V,{...j,radioClass:"form-check form-check-inline"})})}),e.jsx("div",{className:"col-md-3",children:e.jsx(c,{name:"dificulty_to_hear",label:"Difficulty to Hear",options:[{value:"Yes",label:"Yes"},{value:"No",label:"No"}],component:j=>e.jsx(V,{...j,radioClass:"form-check form-check-inline"})})}),e.jsx("div",{className:"col-md-3",children:e.jsx(c,{name:"dificulty_to_walk",label:"Difficulty to Walk",options:[{value:"Yes",label:"Yes"},{value:"No",label:"No"}],component:j=>e.jsx(V,{...j,radioClass:"form-check form-check-inline"})})}),e.jsx("div",{className:"col-md-3",children:e.jsx(c,{name:"dificulty_to_speak",label:"Difficulty to Speak",options:[{value:"Yes",label:"Yes"},{value:"No",label:"No"}],component:j=>e.jsx(V,{...j,radioClass:"form-check form-check-inline"})})})]})]})})]})})]}),e.jsxs(b.div,{className:"accordion-item",variants:W,initial:"hidden",animate:"visible",exit:"exit",children:[e.jsx("h2",{className:"accordion-header bg-light text-black fw-bold",id:"headingTwo",children:e.jsx("button",{className:"accordion-button collapsed bg-light text-black fw-bold",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseTwo","aria-expanded":"false","aria-controls":"collapseTwo",children:e.jsx("span",{className:"fs-1 fw-bolder text-primary",children:"Contact & Identity"})})}),e.jsx("div",{id:"collapseTwo",className:"accordion-collapse collapse","aria-labelledby":"headingTwo","data-bs-parent":"#profileEditAccordion",children:e.jsxs("div",{className:"accordion-body",children:[e.jsxs("div",{className:"row mb-3",children:[e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"home_address",label:"Home Address",placeholder:"Permanent or Family Residence",component:v})}),e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"current_address",label:"Current Address",placeholder:"Present Working/Residence Address",component:v})})]}),e.jsxs("div",{className:"row mb-3",children:[e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"phone_number_1",label:e.jsx(e.Fragment,{children:"Phone Number 1"}),placeholder:"Primary Contact No.",component:v,disabled:!0})}),e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"phone_number_2",label:"Phone Number 2",placeholder:"Alternate Contact No.",component:v})})]}),e.jsxs("div",{className:"row mb-3",children:[e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"country_code",label:"Country Code",placeholder:"e.g. +256",component:v})}),e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"emergency_person_name",label:"Emergency Contact Name",placeholder:"Who to contact in emergency",component:v})})]}),e.jsxs("div",{className:"row mb-3",children:[e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"emergency_person_phone",label:"Emergency Contact Phone",placeholder:"Enter phone no.",component:v})}),e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"national_id_number",label:"National ID Number",placeholder:"Enter your National ID",component:v})})]}),e.jsxs("div",{className:"row mb-3",children:[e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"passport_number",label:"Passport Number",placeholder:"Enter Passport No.",component:v})}),e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"tin",label:"TIN",placeholder:"Tax Identification Number",component:v})})]}),e.jsx("div",{className:"row mb-3",children:e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"nssf_number",label:"NSSF Number",placeholder:"Social Security Number",component:v})})})]})})]}),e.jsxs(b.div,{className:"accordion-item",variants:W,initial:"hidden",animate:"visible",exit:"exit",children:[e.jsx("h2",{className:"accordion-header bg-light text-black fw-bold",id:"headingThree",children:e.jsx("button",{className:"accordion-button collapsed bg-light text-black fw-bold",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseThree","aria-expanded":"false","aria-controls":"collapseThree",children:e.jsx("span",{className:"fs-1 fw-bolder text-primary",children:"Professional & Job Preferences"})})}),e.jsx("div",{id:"collapseThree",className:"accordion-collapse collapse","aria-labelledby":"headingThree","data-bs-parent":"#profileEditAccordion",children:e.jsxs("div",{className:"accordion-body",children:[e.jsxs("div",{className:"row mb-3",children:[e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"objective",label:"Objective",placeholder:"Your career objective",component:Ce})}),e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"special_qualification",label:"Special Qualification",placeholder:"Any special qualifications",component:Ce})})]}),e.jsx("div",{className:"row mb-3",children:e.jsx("div",{className:"col-md-12",children:e.jsx(c,{name:"career_summary",label:"Career Summary",placeholder:"Short summary of work experience",component:Ce})})}),e.jsxs("div",{className:"row mb-3",children:[e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"present_salary",label:"Present Salary",placeholder:"Enter current salary if employed",component:v})}),e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"expected_salary",label:"Expected Salary",placeholder:"Enter your expected salary",component:v})})]}),e.jsxs("div",{className:"row mb-3",children:[e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"expected_job_level",label:"Expected Job Level",placeholder:"Junior / Mid / Senior / Manager",component:v})}),e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"expected_job_nature",label:"Expected Job Nature",placeholder:"Full Time / Part Time / Contract",component:v})})]}),e.jsxs("div",{className:"row mb-3",children:[e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"preferred_job_location",label:"Preferred Job Location",placeholder:"e.g. Kampala",component:v})}),e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"preferred_job_category",label:"Preferred Job Category",placeholder:"e.g. IT, Finance, Marketing",component:v})})]}),e.jsxs("div",{className:"row mb-3",children:[e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"preferred_job_category_other",label:"Preferred Job Category (Other)",placeholder:"Enter if not listed above",component:v})}),e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"preferred_job_districts",label:"Preferred Job Districts",placeholder:"List any specific districts",component:v})})]}),e.jsxs("div",{className:"row mb-3",children:[e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"preferred_job_abroad",label:"Preferred Job Abroad",options:[{value:"Yes",label:"Yes"},{value:"No",label:"No"}],component:j=>e.jsx(V,{...j,radioClass:"form-check form-check-inline",onChange:N=>{j.form.setFieldValue(j.field.name,N.target.value),t(N.target.value==="Yes")}})})}),e.jsx(me,{mode:"wait",children:s&&e.jsx(b.div,{className:"col-md-6",variants:W,initial:"hidden",animate:"visible",exit:"exit",children:e.jsx(c,{name:"preferred_job_countries",label:"Preferred Job Countries",placeholder:"List countries if abroad is yes",component:v})})})]})]})})]})]}),e.jsxs("div",{className:"d-flex justify-content-between mt-5 border-top pt-4 mb-5 mb-lg-10",children:[e.jsx("button",{type:"button",className:"btn btn-outline-primary",onClick:()=>a("/admin/profile-edit/photo"),children:"← Back"}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsxs("button",{type:"submit",className:"btn btn-primary",onClick:()=>E("submitAction","save"),disabled:f,children:[e.jsx(fe,{className:"me-2"}),f?"Saving...":"Save"]}),e.jsxs("button",{type:"submit",className:"btn btn-success",onClick:()=>E("submitAction","saveAndNext"),disabled:f,children:["Next Step",e.jsx(ye,{className:"ms-2"})]})]})]})]})})})})},Va={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.3}},exit:{opacity:0,y:-20}},Xa={hidden:{opacity:0,scale:.95},visible:{opacity:1,scale:1,transition:{duration:.2}}},Ms=K().shape({companyName:w().required("Company Name is required"),companyBusiness:w().required("Company Business is required"),position:w().required("Designation/Position is required"),department:w().required("Department is required"),startDate:w().required("Employment start date is required"),responsibilities:w().required("Responsibilities are required"),employmentPeriod:w().required("Employment period is required"),stillEmployed:Vs()}),Qa=i.memo(({employment:a,index:s,onEdit:t,onDelete:l})=>e.jsx(b.div,{variants:Va,initial:"hidden",animate:"visible",exit:"exit",layout:!0,children:e.jsxs(L,{className:"mb-3 hover-shadow transition-all",children:[e.jsxs(L.Header,{className:"d-flex justify-content-between align-items-center bg-light",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"mb-0 text-primary",children:a.position}),e.jsx("small",{className:"text-muted",children:a.companyName})]}),e.jsxs(_,{children:[e.jsx(_.Toggle,{variant:"link",className:"no-arrow p-0",children:e.jsx(b.div,{whileHover:{scale:1.1},children:e.jsx(z,{className:"text-muted fs-5"})})}),e.jsxs(_.Menu,{align:"end",children:[e.jsxs(_.Item,{onClick:t,children:[e.jsx(z,{className:"me-2"})," Edit"]}),e.jsxs(_.Item,{onClick:l,className:"text-danger",children:[e.jsx(ue,{className:"me-2"})," Delete"]})]})]})]}),e.jsxs(L.Body,{children:[e.jsxs(b.div,{layout:!0,className:"row g-2",children:[e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"text-muted small",children:"Company Business"}),e.jsx("p",{className:"mb-0",children:a.companyBusiness})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"text-muted small",children:"Department"}),e.jsx("p",{className:"mb-0",children:a.department})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"text-muted small",children:"Start Date"}),e.jsx("p",{className:"mb-0",children:a.startDate})]})]}),e.jsx(b.div,{layout:!0,className:"row g-2 mt-2",children:e.jsxs("div",{className:"col-md-12",children:[e.jsx("label",{className:"text-muted small",children:"Responsibilities"}),e.jsx("p",{className:"mb-0",children:a.responsibilities})]})}),e.jsxs(b.div,{layout:!0,className:"row g-2 mt-2",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"text-muted small",children:"Employment Period"}),e.jsx("p",{className:"mb-0",children:a.employmentPeriod})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"text-muted small",children:"Still Employed?"}),e.jsx("p",{className:"mb-0",children:a.stillEmployed?"Yes":"No"})]})]})]})]})})),Za=()=>{const a=pe(),{currentUser:s,setCurrentUser:t}=Z(),[l,n]=i.useState(!1),[r,o]=i.useState(null),[d,m]=i.useState(!1);if(!s)return R.error("User not found"),null;const u={employmentHistories:s!=null&&s.primary_school_name?JSON.parse(s.primary_school_name):[],submitAction:""},p=i.useCallback(async x=>{m(!0);try{const y={...s,primary_school_name:JSON.stringify(x.employmentHistories)},C=await he("profile",y),S=te.fromJson(JSON.stringify(C));le.saveProfile(S),R.success("Employment details updated successfully",{icon:e.jsx("span",{children:"✅"})}),x.submitAction==="saveAndNext"&&a("/admin/profile-edit/other-section")}catch{R.error("Failed to save employment details",{icon:e.jsx("span",{children:"❌"})})}finally{m(!1)}},[s,t,a]),h=i.useCallback((x,y)=>{R(e.jsxs(b.div,{initial:{opacity:0},animate:{opacity:1},className:"d-flex flex-column p-3",children:[e.jsx("h6",{className:"mb-3",children:"Delete this employment entry?"}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsx($,{variant:"danger",size:"sm",onClick:()=>{y(x),R.dismiss()},children:"Delete"}),e.jsx($,{variant:"outline-secondary",size:"sm",onClick:()=>R.dismiss(),children:"Cancel"})]})]}),{icon:e.jsx("span",{children:"⚠️"})})},[]);return e.jsx(Ie,{fluid:"lg",className:"py-4",children:e.jsx(U,{initialValues:u,validationSchema:K({employmentHistories:oe().of(Ms)}),validateOnChange:!1,onSubmit:p,children:({values:x,setFieldValue:y})=>e.jsxs(xe,{children:[e.jsx(Q,{defaultActiveKey:"0",className:"shadow-sm rounded-3 overflow-hidden",children:e.jsxs(Q.Item,{eventKey:"0",children:[e.jsx("h2",{className:"accordion-header bg-light text-black fw-bold",children:e.jsx(Q.Button,{className:"bg-light text-black fw-bold text-gray-900",children:e.jsx("span",{className:"fs-1 fw-bolder text-primary",children:"Employment History"})})}),e.jsx(Q.Collapse,{eventKey:"0",children:e.jsxs(b.div,{initial:{opacity:0},animate:{opacity:1},className:"p-4",children:[e.jsx("div",{className:"d-flex justify-content-end mb-4",children:e.jsx(b.div,{whileHover:{scale:1.05},children:e.jsxs($,{variant:"primary",onClick:()=>{o(null),n(!0)},children:[e.jsx(ce,{className:"me-2"})," Add Employment"]})})}),e.jsx(de,{name:"employmentHistories",children:({push:C,remove:S,replace:f})=>e.jsx(me,{mode:"popLayout",children:x.employmentHistories.map((E,j)=>e.jsx(Qa,{employment:E,index:j,onEdit:()=>{o(j),n(!0)},onDelete:()=>h(j,S)},E.id))})})]})})]})}),e.jsx(et,{show:l,onHide:()=>n(!1),onSubmit:C=>{r!==null?y(`employmentHistories[${r}]`,C):y("employmentHistories",[...x.employmentHistories,C]),n(!1)},initialValues:r!==null?x.employmentHistories[r]:null}),e.jsxs(b.div,{className:"d-flex justify-content-between mt-5 border-top pt-4",layout:!0,children:[e.jsx(b.div,{whileHover:{x:-5},children:e.jsx($,{variant:"outline-primary",onClick:()=>a("/admin/profile-edit/education"),children:"← Back"})}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsx(b.div,{whileHover:{scale:1.05},children:e.jsxs($,{type:"submit",variant:"primary",onClick:()=>y("submitAction","save"),disabled:d,children:[e.jsx(fe,{className:"me-2"}),d?e.jsx("span",{className:"spinner-border spinner-border-sm"}):"Save"]})}),e.jsx(b.div,{whileHover:{scale:1.05},children:e.jsxs($,{type:"submit",variant:"success",onClick:()=>y("submitAction","saveAndNext"),disabled:d,children:["Next Step",e.jsx(ye,{className:"ms-2"})]})})]})]})]})})})},et=i.memo(({show:a,onHide:s,onSubmit:t,initialValues:l})=>e.jsx(M,{show:a,onHide:s,centered:!0,size:"lg",children:e.jsx(b.div,{variants:Xa,initial:"hidden",animate:"visible",children:e.jsx(U,{initialValues:l||{id:Math.random().toString(36).substr(2,9),companyName:"",companyBusiness:"",position:"",department:"",startDate:"",responsibilities:"",employmentPeriod:"",stillEmployed:!1},validationSchema:Ms,onSubmit:t,validateOnChange:!1,children:({handleSubmit:n,isValidating:r})=>e.jsxs(e.Fragment,{children:[e.jsx(M.Header,{closeButton:!0,className:"bg-light",children:e.jsx(M.Title,{className:"text-primary",children:l?"Edit Employment":"Add New Employment"})}),e.jsx(M.Body,{children:e.jsxs("div",{className:"row g-3",children:[e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"companyName",label:"Company Name",placeholder:"ABC Ltd.",component:v})}),e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"companyBusiness",label:"Company Business",placeholder:"Software, Retail, Consulting...",component:v})}),e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"position",label:"Position",placeholder:"e.g. Software Engineer",component:v})}),e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"department",label:"Department",placeholder:"e.g. IT",component:v})}),e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"startDate",label:"Start Date",component:Ee})}),e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"employmentPeriod",label:"Employment Period",placeholder:"e.g. 2 Years",component:v})}),e.jsx("div",{className:"col-12",children:e.jsx(c,{name:"responsibilities",label:"Responsibilities",placeholder:"Your daily duties...",component:v,as:"textarea",rows:4})}),e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"form-check",children:[e.jsx(c,{type:"checkbox",name:"stillEmployed",className:"form-check-input",id:"stillEmployed"}),e.jsx("label",{className:"form-check-label",htmlFor:"stillEmployed",children:"Currently employed here"})]})})]})}),e.jsxs(M.Footer,{className:"border-0",children:[e.jsx(b.div,{whileHover:{scale:1.05},children:e.jsx($,{variant:"outline-secondary",onClick:s,children:"Cancel"})}),e.jsx(b.div,{whileHover:{scale:1.05},children:e.jsx($,{variant:"primary",onClick:()=>n(),disabled:r,children:l?"Save Changes":"Add Employment"})})]})]})})})})),st={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.3}},exit:{opacity:0,y:-20}},at={hidden:{opacity:0,scale:.95},visible:{opacity:1,scale:1,transition:{duration:.2}}},tt=[{value:"publication",label:"Publication"},{value:"award",label:"Award"},{value:"project",label:"Project"},{value:"other",label:"Other"}],_s=K().shape({type:w().required("Accomplishment type is required"),title:w().required("Title is required"),description:w().required("Description is required"),url:w().url("Must be a valid URL").nullable(),issueDate:w().required("Issue date is required")}),lt=i.memo(({accomplishment:a,index:s,onEdit:t,onDelete:l})=>e.jsx(b.div,{variants:st,initial:"hidden",animate:"visible",exit:"exit",layout:!0,children:e.jsxs(L,{className:"mb-3 hover-shadow transition-all",children:[e.jsxs(L.Header,{className:"d-flex justify-content-between align-items-center bg-light",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"mb-0 text-primary",children:a.title}),e.jsx("small",{className:"text-muted text-capitalize",children:a.type})]}),e.jsxs(_,{children:[e.jsx(_.Toggle,{variant:"link",className:"no-arrow p-0",children:e.jsx(b.div,{whileHover:{scale:1.1},children:e.jsx(z,{className:"text-muted fs-5"})})}),e.jsxs(_.Menu,{align:"end",children:[e.jsxs(_.Item,{onClick:t,children:[e.jsx(z,{className:"me-2"})," Edit"]}),e.jsxs(_.Item,{onClick:l,className:"text-danger",children:[e.jsx(ue,{className:"me-2"})," Delete"]})]})]})]}),e.jsxs(L.Body,{children:[e.jsxs(b.div,{layout:!0,className:"row g-2",children:[e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"text-muted small",children:"Issue Date"}),e.jsx("p",{className:"mb-0",children:a.issueDate})]}),e.jsxs("div",{className:"col-md-8",children:[e.jsx("label",{className:"text-muted small",children:"URL"}),e.jsx("p",{className:"mb-0",children:a.url?e.jsx("a",{href:a.url,target:"_blank",rel:"noopener noreferrer",children:a.url}):"N/A"})]})]}),e.jsxs(b.div,{layout:!0,className:"mt-3",children:[e.jsx("label",{className:"text-muted small",children:"Description"}),e.jsx("p",{className:"mb-0",children:a.description})]})]})]})})),nt=()=>{const a=pe(),{currentUser:s,setCurrentUser:t}=Z(),[l,n]=i.useState(!1),[r,o]=i.useState(null),[d,m]=i.useState(!1);if(!s)return R.error("User not found"),null;const u={accomplishments:s!=null&&s.primary_school_name?JSON.parse(s.primary_school_name):[],submitAction:""},p=i.useCallback(async x=>{m(!0);try{const y={...s,accomplishments:JSON.stringify(x.accomplishments)},C=await he("profile",y),S=te.fromJson(JSON.stringify(C));le.saveProfile(S),R.success("Accomplishments updated successfully",{icon:e.jsx("span",{children:"✅"})}),x.submitAction==="saveAndNext"&&a("/admin/profile-edit/some-other-page")}catch{R.error("Failed to save accomplishments",{icon:e.jsx("span",{children:"❌"})})}finally{m(!1)}},[s,t,a]),h=i.useCallback((x,y)=>{R(e.jsxs(b.div,{initial:{opacity:0},animate:{opacity:1},className:"d-flex flex-column p-3",children:[e.jsx("h6",{className:"mb-3",children:"Delete this accomplishment?"}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsx($,{variant:"danger",size:"sm",onClick:()=>{y(x),R.dismiss()},children:"Delete"}),e.jsx($,{variant:"outline-secondary",size:"sm",onClick:()=>R.dismiss(),children:"Cancel"})]})]}),{icon:e.jsx("span",{children:"⚠️"})})},[]);return e.jsx(Ie,{fluid:"lg",className:"py-4",children:e.jsx(U,{initialValues:u,validationSchema:K({accomplishments:oe().of(_s)}),validateOnChange:!1,onSubmit:p,children:({values:x,setFieldValue:y})=>e.jsxs(xe,{children:[e.jsx(Q,{defaultActiveKey:"0",className:"shadow-sm rounded-3 overflow-hidden",children:e.jsxs(Q.Item,{eventKey:"0",children:[e.jsx("h2",{className:"accordion-header bg-light text-black fw-bold",children:e.jsx(Q.Button,{className:"bg-light text-black fw-bold text-gray-900",children:e.jsx("span",{className:"fs-1 fw-bolder text-primary",children:"Accomplishments & Achievements"})})}),e.jsx(Q.Collapse,{eventKey:"0",children:e.jsxs(b.div,{initial:{opacity:0},animate:{opacity:1},className:"p-4",children:[e.jsx("div",{className:"d-flex justify-content-end mb-4",children:e.jsx(b.div,{whileHover:{scale:1.05},children:e.jsxs($,{variant:"primary",onClick:()=>{o(null),n(!0)},children:[e.jsx(ce,{className:"me-2"})," Add Accomplishment"]})})}),e.jsx(de,{name:"accomplishments",children:({push:C,remove:S,replace:f})=>e.jsx(me,{mode:"popLayout",children:x.accomplishments.map((E,j)=>e.jsx(lt,{accomplishment:E,index:j,onEdit:()=>{o(j),n(!0)},onDelete:()=>h(j,S)},E.id))})})]})})]})}),e.jsx(it,{show:l,onHide:()=>n(!1),onSubmit:C=>{r!==null?y(`accomplishments[${r}]`,C):y("accomplishments",[...x.accomplishments,C]),n(!1)},initialValues:r!==null?x.accomplishments[r]:null}),e.jsxs(b.div,{className:"d-flex justify-content-between mt-5 border-top pt-4",layout:!0,children:[e.jsx(b.div,{whileHover:{x:-5},children:e.jsx($,{variant:"outline-primary",onClick:()=>a("/admin/profile-edit/employment"),children:"← Back"})}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsx(b.div,{whileHover:{scale:1.05},children:e.jsxs($,{type:"submit",variant:"primary",onClick:()=>y("submitAction","save"),disabled:d,children:[e.jsx(fe,{className:"me-2"}),d?e.jsx("span",{className:"spinner-border spinner-border-sm"}):"Save"]})}),e.jsx(b.div,{whileHover:{scale:1.05},children:e.jsxs($,{type:"submit",variant:"success",onClick:()=>a("/admin/dashboard"),disabled:d,children:["Finish",e.jsx(Xs,{className:"ms-2"})]})})]})]})]})})})},it=i.memo(({show:a,onHide:s,onSubmit:t,initialValues:l})=>e.jsx(M,{show:a,onHide:s,centered:!0,size:"lg",children:e.jsx(b.div,{variants:at,initial:"hidden",animate:"visible",children:e.jsx(U,{initialValues:l||{id:Math.random().toString(36).substr(2,9),type:"",title:"",description:"",url:"",issueDate:""},validationSchema:_s,onSubmit:t,validateOnChange:!1,children:({handleSubmit:n,isValidating:r})=>e.jsxs(e.Fragment,{children:[e.jsx(M.Header,{closeButton:!0,className:"bg-light",children:e.jsx(M.Title,{className:"text-primary",children:l?"Edit Accomplishment":"Add New Accomplishment"})}),e.jsx(M.Body,{children:e.jsxs("div",{className:"row g-3",children:[e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"type",label:"Type",component:o=>e.jsx(X,{...o,options:tt,placeholder:"Select type"})})}),e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"title",label:"Title",placeholder:"Best Research Paper 2023",component:v})}),e.jsx("div",{className:"col-12",children:e.jsx(c,{name:"description",label:"Description",placeholder:"Describe your accomplishment...",component:v,as:"textarea",rows:4})}),e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"url",label:"URL",placeholder:"https://example.com",component:v})}),e.jsx("div",{className:"col-md-6",children:e.jsx(c,{name:"issueDate",label:"Issue Date",component:Ee})})]})}),e.jsxs(M.Footer,{className:"border-0",children:[e.jsx(b.div,{whileHover:{scale:1.05},children:e.jsx($,{variant:"outline-secondary",onClick:s,children:"Cancel"})}),e.jsx(b.div,{whileHover:{scale:1.05},children:e.jsx($,{variant:"primary",onClick:()=>n(),disabled:r,children:l?"Save Changes":"Add Accomplishment"})})]})]})})})})),rt=()=>{const a=pe(),[s,t]=i.useState(""),[l,n]=i.useState(""),[r,o]=i.useState(!1),[d,m]=i.useState(null),{setCurrentUser:u}=Z(),{currentUser:p}=Z();if(!p)return null;const h=K().shape({first_name:w().required("First Name is required"),last_name:w().min(2).required("Last Name is required"),sex:w().required("Gender is required"),title:w().required("Title is required")}),x=f=>{f&&f.length>0&&m(f[0])},{getRootProps:y,getInputProps:C}=Qs({onDrop:x}),S=async(f,E)=>{t(""),n(""),o(!0);const j=f.submitAction||"save";try{if(!d){R.warn("Select a profile photo first.");return}const N=new FormData;Object.entries(f).forEach(([g,k])=>{N.append(g,k?k.toString():"")}),d&&N.append("profile_photo",d);const P=await he("profile",N),A=te.fromJson(JSON.stringify(P));u(A),le.saveProfile(A),n("Profile updated successfully"),R.success("Profile updated successfully"),j==="saveAndNext"&&a("/admin/profile-edit/bio")}catch(N){t("Failed: "+N),R.error("Profile update failed")}finally{o(!1),E.setSubmitting(!1)}};return e.jsx(U,{initialValues:p,validationSchema:h,onSubmit:S,children:({isSubmitting:f,setFieldValue:E})=>e.jsxs(xe,{children:[e.jsx(b.div,{className:"card-header bg-light text-black fw-bold ps-6",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3},children:e.jsx("h2",{className:"text-primary fs-1 fw-bolder mt-7 ps-0",children:"Personal Details"})}),r&&e.jsx(b.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999},children:e.jsx("div",{className:"spinner-border text-light",role:"status",children:e.jsx("span",{className:"visually-hidden",children:"Loading..."})})}),s&&e.jsxs(b.div,{className:"alert alert-danger alert-dismissible fade show",role:"alert",initial:{opacity:0},animate:{opacity:1},children:[s,e.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"alert","aria-label":"Close"})]}),l&&e.jsxs(b.div,{className:"alert alert-success alert-dismissible fade show",role:"alert",initial:{opacity:0},animate:{opacity:1},children:[l,e.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"alert","aria-label":"Close"})]}),p.avatar&&!p.avatar.toLowerCase().includes("user")&&e.jsx(b.div,{className:"d-flex justify-content-center mb-4 mt-5 mt-lg-10",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},children:e.jsx("img",{src:le.img(p.avatar),alt:"avatar",style:{width:200,height:200,borderRadius:"10%"}})}),e.jsx(b.div,{className:"d-flex justify-content-center mb-4 mt-5 mt-lg-10",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},children:e.jsxs("div",{...y(),style:{width:200,height:200,border:"2px dashed #ccc",borderRadius:"8px",display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer",overflow:"hidden"},children:[e.jsx("input",{...C()}),d?e.jsx("img",{src:URL.createObjectURL(d),alt:"profile",style:{width:"100%",height:"100%",objectFit:"cover"}}):e.jsx("p",{className:"text-muted mb-0",children:e.jsx("span",{className:"ms-3 fs-6 fw-bold text-gray-700",children:p.avatar&&!p.avatar.toLowerCase().includes("user")?"Set profile photo":"Change profile photo"})})]})}),e.jsxs(b.div,{className:"d-flex justify-content-between mt-5 border-top pt-4 mb-5 mb-lg-10",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:[e.jsxs("button",{type:"button",className:"btn btn-outline-danger",onClick:()=>a("/admin/profile-edit/education"),children:[e.jsx(Zs,{className:"me-2 text-danger"}),"Cancel"]}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsxs("button",{type:"submit",className:"btn btn-primary",onClick:()=>E("submitAction","save"),disabled:f,children:[e.jsx(fe,{className:"me-2"}),f?"Saving...":"Save"]}),e.jsxs("button",{type:"submit",className:"btn btn-success",onClick:()=>E("submitAction","saveAndNext"),disabled:f,children:["Next Step ",e.jsx(ye,{className:"ms-2"})]})]})]})]})})},ut=()=>{const{currentUser:a}=Z(),[s,t]=i.useState(!1),l=ea(),n=[{title:"Profile",path:"/admin/profile-edit/bio",isSeparator:!1,isActive:!1},{title:"",path:"",isSeparator:!0,isActive:!1}];return a?e.jsxs(Wa,{children:[e.jsx(ot,{currentUser:a,setIsLoading:t}),s&&e.jsx("div",{children:"Loading..."})," ",e.jsx(sa,{children:e.jsxs(se,{path:"/*",element:e.jsxs(e.Fragment,{children:[e.jsx(aa,{}),e.jsx(ta,{children:e.jsxs("div",{className:"stepper stepper-pills stepper-column d-flex flex-column flex-xl-row flex-row-fluid",children:[e.jsx("div",{className:"card d-none d-xl-flex justify-content-center justify-content-xl-start flex-row-auto w-100 w-xl-300px w-xxl-400px me-9",children:e.jsx("div",{className:"stepper stepper-pills stepper-column d-flex flex-column flex-xl-row flex-row-fluid",children:e.jsx("div",{className:"card d-flex justify-content-center justify-content-xl-start flex-row-auto w-100 w-xl-300px w-xxl-400px me-9",children:e.jsxs("div",{className:"card-body px-3 px-lg-10 py-10 py-lg-10",children:[e.jsx("div",{className:"d-flex flex-wrap flex-stack justify-content-center mb-5",children:e.jsxs("div",{className:"d-flex align-items-center w-200px w-sm-300px flex-column mt-3",children:[e.jsxs("div",{className:"d-flex justify-content-between w-100 mt-auto mb-2",children:[e.jsx("span",{className:"fw-bold fs-6 text-gray-500",children:"Profile Compleation"}),e.jsx("span",{className:"fw-bolder fs-6",children:"50%"})]}),e.jsx("div",{className:"h-5px mx-3 w-100 bg-light mb-3",children:e.jsx("div",{className:"bg-success rounded h-5px",role:"progressbar",style:{width:"50%"}})})]})}),e.jsx(ne,{className:"stepper-nav",to:"/admin/profile-edit/photo",children:e.jsxs("div",{className:`stepper-item ${l.pathname==="/admin/profile-edit/photo"?"current":""}`,"data-kt-stepper-element":"nav",children:[e.jsxs("div",{className:"stepper-wrapper",children:[e.jsxs("div",{className:"stepper-icon w-40px h-40px",children:[e.jsx("i",{className:"stepper-check fas fa-check"}),e.jsx("span",{className:"stepper-number",children:"1"})]}),e.jsxs("div",{className:"stepper-label",children:[e.jsx("h3",{className:`stepper-title ${l.pathname==="/admin/profile-edit/photo"?"text-primary fw-bolder":"fw-semibold text-muted"}`,children:"Profile Photo"}),e.jsx("div",{className:"stepper-desc fw-semibold",children:"Setup your profile photo and cover"})]})]}),e.jsx("div",{className:"stepper-line h-40px"})]})}),e.jsx(ne,{className:"stepper-nav",to:"/admin/profile-edit/bio",children:e.jsxs("div",{className:`stepper-item ${l.pathname==="/admin/profile-edit/bio"?"current":""}`,"data-kt-stepper-element":"nav",children:[e.jsxs("div",{className:"stepper-wrapper",children:[e.jsxs("div",{className:"stepper-icon w-40px h-40px",children:[e.jsx("i",{className:"stepper-check fas fa-check"}),e.jsx("span",{className:"stepper-number",children:"2"})]}),e.jsxs("div",{className:"stepper-label",children:[e.jsx("h3",{className:`stepper-title ${l.pathname==="/admin/profile-edit/bio"?"text-primary fw-bolder":"fw-semibold text-muted"}`,children:"Biodata"}),e.jsx("div",{className:"stepper-desc fw-semibold",children:"Setup your personal information"})]})]}),e.jsx("div",{className:"stepper-line h-40px"})]})}),e.jsx(ne,{to:"/admin/profile-edit/education",className:"stepper-nav",children:e.jsxs("div",{className:`stepper-item ${l.pathname==="/admin/profile-edit/education"?"current":""}`,"data-kt-stepper-element":"nav",children:[e.jsxs("div",{className:"stepper-wrapper",children:[e.jsxs("div",{className:"stepper-icon w-40px h-40px",children:[e.jsx("i",{className:"stepper-check fas fa-check"}),e.jsx("span",{className:"stepper-number",children:"3"})]}),e.jsxs("div",{className:"stepper-label",children:[e.jsx("h3",{className:`stepper-title ${l.pathname==="/admin/profile-edit/education"?"text-primary fw-bolder":"fw-semibold text-muted"}`,children:"Education & Training"}),e.jsx("div",{className:"stepper-desc fw-semibold",children:"Setup your personal information"})]})]}),e.jsx("div",{className:"stepper-line h-40px"})]})}),e.jsx(ne,{to:"/admin/profile-edit/employment",className:"stepper-nav",children:e.jsxs("div",{className:`stepper-item ${l.pathname==="/admin/profile-edit/employment"?"current":""}`,"data-kt-stepper-element":"nav",children:[e.jsxs("div",{className:"stepper-wrapper",children:[e.jsxs("div",{className:"stepper-icon w-40px h-40px",children:[e.jsx("i",{className:"stepper-check fas fa-check"}),e.jsx("span",{className:"stepper-number",children:"4"})]}),e.jsxs("div",{className:"stepper-label",children:[e.jsx("h3",{className:`stepper-title ${l.pathname==="/admin/profile-edit/employment"?"text-primary fw-bolder":"fw-semibold text-muted"}`,children:"Employment"}),e.jsx("div",{className:"stepper-desc fw-semibold",children:"Setup your employment history"})]})]}),e.jsx("div",{className:"stepper-line h-40px"})]})}),e.jsx(ne,{to:"/admin/profile-edit/accomplishment",className:"stepper-nav",children:e.jsx("div",{className:`stepper-item ${l.pathname==="/admin/profile-edit/accomplishment"?"current":""}`,"data-kt-stepper-element":"nav",children:e.jsxs("div",{className:"stepper-wrapper",children:[e.jsxs("div",{className:"stepper-icon w-40px h-40px",children:[e.jsx("i",{className:"stepper-check fas fa-check"}),e.jsx("span",{className:"stepper-number",children:"5"})]}),e.jsxs("div",{className:"stepper-label",children:[e.jsx("h3",{className:`stepper-title ${l.pathname==="/admin/profile-edit/accomplishment"?"text-primary fw-bolder":"fw-semibold text-muted"}`,children:"Accomplishments"}),e.jsx("div",{className:"stepper-desc fw-semibold",children:"Setup your accomplishments"})]})]})})})]})})})}),e.jsx("div",{className:"d-flex flex-row-fluid flex-s bg-body rounded w-100 w-xl-800px w-xxl-1000px d-flex flex-column card rounded",children:e.jsx(la,{})})]})})]}),children:[e.jsx(se,{path:"photo",element:e.jsxs(e.Fragment,{children:[e.jsx(ie,{breadcrumbs:n,children:"Profile Photo"}),e.jsx(rt,{})]})}),e.jsx(se,{path:"bio",element:e.jsxs(e.Fragment,{children:[e.jsx(ie,{breadcrumbs:n,children:"Personal Information"}),e.jsx(Ga,{})]})}),e.jsx(se,{path:"education",element:e.jsxs(e.Fragment,{children:[e.jsx(ie,{breadcrumbs:n,children:"Education"}),e.jsx(Ja,{})]})}),e.jsx(se,{path:"employment",element:e.jsxs(e.Fragment,{children:[e.jsx(ie,{breadcrumbs:n,children:"Employment"}),e.jsx(Za,{})]})}),e.jsx(se,{path:"accomplishment",element:e.jsxs(e.Fragment,{children:[e.jsx(ie,{breadcrumbs:n,children:"Accomplishment"}),e.jsx(nt,{})]})}),e.jsx(se,{path:"",element:e.jsx(Be,{to:"photo",replace:!0})})]})})]}):e.jsx(Be,{to:"/login",replace:!0})},ot=({currentUser:a,setIsLoading:s})=>{const{setProfile:t}=Ua();return i.useEffect(()=>{(async()=>{s(!0);try{if(a){const n=te.fromJson(JSON.stringify(a));t(n)}}catch(n){console.error("Failed to initialize profile:",n)}finally{s(!1)}})()},[a,t,s]),null};export{ut as default};
